(function(){var e=this,t=function(){"use strict";function t(){}function a(e,t){var a;for(a in e)Object.hasOwnProperty.call(e,a)&&t(a)}function n(e,t){return a(t,function(a){e[a]=t[a]}),e}function i(e,t){a(t,function(a){void 0===e[a]&&(e[a]=t[a])})}function r(e,t,a,n,i,r,o){var s,u,c,m=r>e?0:(e-r)/i;for(s in t)t.hasOwnProperty(s)&&(u=o[s],c="function"==typeof u?u:g[u],t[s]=l(a[s],n[s],c,m));return t}function l(e,t,a,n){return e+(t-e)*a(n)}function o(e,t){var n=c.prototype.filter,i=e._filterArgs;a(n,function(a){void 0!==n[a][t]&&n[a][t].apply(e,i)})}function s(e,t,a,n,i,l,s,u,c,g,m){v=t+a+n,y=Math.min(m||f(),v),I=y>=v,w=n-(v-y),e.isPlaying()&&!I?(e._scheduleId=g(e._timeoutHandler,b),o(e,"beforeTween"),t+a>y?r(1,i,l,s,1,1,u):r(y,i,l,s,n,t+a,u),o(e,"afterTween"),c(i,e._attachment,w)):e.isPlaying()&&I&&(c(s,e._attachment,w),e.stop(!0))}function u(e,t){var n={},i=typeof t;return"string"===i||"function"===i?a(e,function(e){n[e]=t}):a(e,function(e){n[e]||(n[e]=t[e]||d)}),n}function c(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=m,void 0!==t&&this.setConfig(t)}var g,m,d="linear",h=500,b=1e3/60,p=Date.now?Date.now:function(){return+new Date},f="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:p;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var v,y,I,w;return c.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=f(),this._start(this.get(),this._attachment),this.resume())},c.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||t,this._step=e.step||t,this._finish=e.finish||t,this._duration=e.duration||h,this._currentState=n({},e.from)||this.get(),this._originalState=this.get(),this._targetState=n({},e.to)||this.get();var a=this;this._timeoutHandler=function(){s(a,a._timestamp,a._delay,a._duration,a._currentState,a._originalState,a._targetState,a._easing,a._step,a._scheduleFunction)};var r=this._currentState,l=this._targetState;return i(l,r),this._easing=u(r,e.easing||d),this._filterArgs=[r,this._originalState,l,this._easing],o(this,"tweenCreated"),this},c.prototype.get=function(){return n({},this._currentState)},c.prototype.set=function(e){this._currentState=e},c.prototype.pause=function(){return this._pausedAtTime=f(),this._isPaused=!0,this},c.prototype.resume=function(){return this._isPaused&&(this._timestamp+=f()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},c.prototype.seek=function(e){e=Math.max(e,0);var t=f();return 0===this._timestamp+e?this:(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,s(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause()),this)},c.prototype.stop=function(a){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=t,(e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.oCancelAnimationFrame||e.msCancelAnimationFrame||e.mozCancelRequestAnimationFrame||e.clearTimeout)(this._scheduleId),a&&(o(this,"beforeTween"),r(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),o(this,"afterTween"),o(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},c.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},c.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},c.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},c.prototype.filter={},c.prototype.formula={linear:function(e){return e}},g=c.prototype.formula,n(c,{now:f,each:a,tweenProps:r,tweenProp:l,applyFilter:o,shallowCopy:n,defaults:i,composeEasingObject:u}),"function"==typeof SHIFTY_DEBUG_NOW&&(e.timeoutHandler=s),"object"==typeof exports?module.exports=c:"function"==typeof define&&define.amd?define("ngTweenable",function(){return c}):void 0===e.NGTweenable&&(e.NGTweenable=c),c}();!function(){t.shallowCopy(t.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return 1>(e/=.5)?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return 1>(e/=.5)?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return 1>(e/=.5)?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return 1>(e/=.5)?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return-Math.cos(e*(Math.PI/2))+1},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},easeInOutExpo:function(e){return 0===e?0:1===e?1:1>(e/=.5)?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return 1>(e/=.5)?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return 1>(e/=.5)?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin(2*(6*e-1)*Math.PI/2)+1},swingFromTo:function(e){var t=1.70158;return 1>(e/=.5)?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},swingFrom:function(e){var t=1.70158;return e*e*((t+1)*e-t)},swingTo:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},bounce:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?2-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return 1>(e/=.5)?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}})}(),function(){function e(e,t,a,n,i,r){function l(e){return((d*e+h)*e+b)*e}function o(e){return((p*e+f)*e+v)*e}function s(e){return(3*d*e+2*h)*e+b}function u(e){return 1/(200*e)}function c(e,t){return o(m(e,t))}function g(e){return e>=0?e:0-e}function m(e,t){var a,n,i,r,o,u;for(i=e,u=0;8>u;u++){if(r=l(i)-e,t>g(r))return i;if(o=s(i),1e-6>g(o))break;i-=r/o}if(a=0,n=1,i=e,a>i)return a;if(i>n)return n;for(;n>a;){if(r=l(i),t>g(r-e))return i;e>r?a=i:n=i,i=.5*(n-a)+a}return i}var d=0,h=0,b=0,p=0,f=0,v=0;return b=3*t,h=3*(n-t)-b,d=1-b-h,v=3*a,f=3*(i-a)-v,p=1-v-f,c(e,u(r))}function a(t,a,n,i){return function(r){return e(r,t,a,n,i,1)}}t.setBezierFunction=function(e,n,i,r,l){var o=a(n,i,r,l);return o.displayName=e,o.x1=n,o.y1=i,o.x2=r,o.y2=l,t.prototype.formula[e]=o},t.unsetBezierFunction=function(e){delete t.prototype.formula[e]}}(),function(){function e(e,a,n,i,r,l){return t.tweenProps(i,a,e,n,1,l,r)}var a=new t;a._filterArgs=[],t.interpolate=function(n,i,r,l,o){var s=t.shallowCopy({},n),u=o||0,c=t.composeEasingObject(n,l||"linear");a.set({});var g=a._filterArgs;g.length=0,g[0]=s,g[1]=n,g[2]=i,g[3]=c,t.applyFilter(a,"tweenCreated"),t.applyFilter(a,"beforeTween");var m=e(n,s,i,r,c,u);return t.applyFilter(a,"afterTween"),m}}(),function(e){function t(e,t){var a,n=[],i=e.length;for(a=0;i>a;a++)n.push("_"+t+"_"+a);return n}function a(e){var t=e.match(w);return t?(1===t.length||e[0].match(I))&&t.unshift(""):t=["",""],t.join(S)}function n(t){e.each(t,function(e){var a=t[e];"string"==typeof a&&a.match(k)&&(t[e]=i(a))})}function i(e){return s(k,e,r)}function r(e){var t=l(e);return"rgb("+t[0]+","+t[1]+","+t[2]+")"}function l(e){return e=e.replace(/#/,""),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),L[0]=o(e.substr(0,2)),L[1]=o(e.substr(2,2)),L[2]=o(e.substr(4,2)),L}function o(e){return parseInt(e,16)}function s(e,t,a){var n=t.match(e),i=t.replace(e,S);if(n)for(var r,l=n.length,o=0;l>o;o++)r=n.shift(),i=i.replace(S,a(r));return i}function u(e){return s(x,e,c)}function c(e){for(var t=e.match(E),a=t.length,n=e.match(C)[0],i=0;a>i;i++)n+=parseInt(t[i],10)+",";return n=n.slice(0,-1)+")"}function g(n){var i={};return e.each(n,function(e){var r=n[e];if("string"==typeof r){var l=f(r);i[e]={formatString:a(r),chunkNames:t(l,e)}}}),i}function m(t,a){e.each(a,function(e){for(var n=t[e],i=f(n),r=i.length,l=0;r>l;l++)t[a[e].chunkNames[l]]=+i[l];delete t[e]})}function d(t,a){e.each(a,function(e){var n=t[e],i=h(t,a[e].chunkNames),r=b(i,a[e].chunkNames);n=p(a[e].formatString,r),t[e]=u(n)})}function h(e,t){for(var a,n={},i=t.length,r=0;i>r;r++)a=t[r],n[a]=e[a],delete e[a];return n}function b(e,t){$.length=0;for(var a=t.length,n=0;a>n;n++)$.push(e[t[n]]);return $}function p(e,t){for(var a=e,n=t.length,i=0;n>i;i++)a=a.replace(S,+t[i].toFixed(4));return a}function f(e){return e.match(E)}function v(t,a){e.each(a,function(e){var n,i=a[e],r=i.chunkNames,l=r.length,o=t[e];if("string"==typeof o){var s=o.split(" "),u=s[s.length-1];for(n=0;l>n;n++)t[r[n]]=s[n]||u}else for(n=0;l>n;n++)t[r[n]]=o;delete t[e]})}function y(t,a){e.each(a,function(e){var n=a[e],i=n.chunkNames,r=i.length,l=t[i[0]],o=typeof l;if("string"===o){for(var s="",u=0;r>u;u++)s+=" "+t[i[u]],delete t[i[u]];t[e]=s.substr(1)}else t[e]=l})}var I=/(\d|\-|\.)/,w=/([^\-0-9\.]+)/g,E=/[0-9.\-]+/g,x=RegExp("rgb\\("+E.source+/,\s*/.source+E.source+/,\s*/.source+E.source+"\\)","g"),C=/^.*\(/,k=/#([0-9]|[a-f]){3,6}/gi,S="VAL",L=[],$=[];e.prototype.filter.token={tweenCreated:function(e,t,a){n(e),n(t),n(a),this._tokenData=g(e)},beforeTween:function(e,t,a,n){v(n,this._tokenData),m(e,this._tokenData),m(t,this._tokenData),m(a,this._tokenData)},afterTween:function(e,t,a,n){d(e,this._tokenData),d(t,this._tokenData),d(a,this._tokenData),y(n,this._tokenData)}}}(t)}).call(null),function(e){"function"==typeof define&&define.amd?define("jqueryNanoGallery",["jquery","ngTweenable"],e):e(jQuery,window.NGTweenable)}(function(e,t){function a(){function a(){bt.scrollTimeOut&&clearTimeout(bt.scrollTimeOut),bt.scrollTimeOut=setTimeout(function(){return bt.containerViewerDisplayed?void 0:("loadData"==bt.O.lazyBuild&&mt(bt.$E.conTnParent,bt.O.lazyBuildTreshold)&&(bt.O.lazyBuild="none",u()),-1!=bt.delayedAlbumIdx&&mt(bt.$E.conTnParent,bt.O.lazyBuildTreshold)&&V(bt.delayedAlbumIdx,bt.delayedSetLocationHash),void ce())},100)}function r(e){bt.isShiftPressed=e.shiftKey,bt.isAltPressed=e.altKey,bt.isCtrlPressed=e.ctrlKey,bt.isMetaPressed=e.metaKey}function l(){return{animationEngine:bt.aengine,t:"test"}}function o(){var e="Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>";e+='&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/">Chrome</a><br>',e+='&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/">Firefox</a><br>',e+='&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>',e+='&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>',st(e,!1)}function s(e){for(var t=document.createElement("div"),a=0;a<e.length;++a)if("undefined"!=typeof t.style[e[a]])return e[a];return null}function u(){var e=Math.max(window.screen.width,window.screen.height);void 0!=window.devicePixelRatio&&window.devicePixelRatio>1&&(e*=window.devicePixelRatio);for(var t=0;t<bt.tn.getHE().length;t++)switch(bt.tn.getHE()[t].name){case"imageScale150":case"imageScale150Outside":case"imageScaleIn80":case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":bt.tn.scale=Math.max(bt.tn.scale,1.5);break;case"scale120":bt.tn.scale=Math.max(bt.tn.scale,1.2)}switch(bt.O.itemsBaseURL.length>0&&(bt.O.itemsBaseURL+="/"),bt.O.kind){case"":if(W(bt.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),void 0!==bt.O.items&&null!==bt.O.items)k(),I(!1)||Q(0,!1);else{var a=jQuery(bt.$E.base).children("a");a.length>0?(L(a),I(!1)||Q(0,!1)):st("error: no image to process.")}break;case"flickr":for(bt.O.flickrSkipOriginal||(bt.flickr.photoAvailableSizes.push(1e4),bt.flickr.photoAvailableSizesStr.push("o")),i=0;i<bt.flickr.photoAvailableSizes.length&&(bt.flickr.photoSize=i,!(e<=bt.flickr.photoAvailableSizes[i]));i++);W(bt.i18nTranslations.breadcrumbHome,"","","","","album","",bt.O.photoset.length>0?bt.O.photoset:"0","-1"),D(0,!0,-1,!1);break;case"json":W(bt.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1"),$(0,!0,-1,!1);break;case"picasa":default:if(bt.O.album.length>0){var n=bt.O.album.indexOf("&authkey=");if(n>=0){var l=bt.O.album.substring(0,n),o=bt.O.album.substring(n);-1==o.indexOf("Gv1sRg")&&(o="&authkey=Gv1sRg"+o.substring(9));var s=W(bt.i18nTranslations.breadcrumbHome,"","","","","album","",l,"-1");s.customData.authkey=o}else W(bt.i18nTranslations.breadcrumbHome,"","","","","album","",bt.O.album,"-1")}else W(bt.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1");P(0,!0,-1,!1)}jQuery(document).keyup(function(e){if(r(e),bt.containerViewerDisplayed)switch(e.keyCode){case 27:tt(!0);break;case 32:case 13:Ae();break;case 38:case 39:case 33:qe();break;case 40:case 37:case 34:Xe();break;case 35:case 36:}else if(!bt.containerViewerDisplayed&&bt.curAlbumIdx>0&&bt.O.galleryEnableKeyboard)switch(e.keyCode){case 27:Q(0,"false");break;case 38:case 39:case 33:z();break;case 40:case 37:case 34:q();break;case 32:case 13:case 35:case 36:}}),jQuery(window).click(r),jQuery(window).mousemove(r),bt.O.locationHash&&jQuery(window).bind("hashchange",function(){I(!0)}),bt.O.galleryFullpageButton&&(bt.O.RTL?bt.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').prependTo(bt.$E.conNavB):bt.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(bt.$E.conNavB),bt.$E.conNavBFullpage.on("click",function(e){if(bt.$E.conNavBFullpage.hasClass("setFullPageButton")){if(bt.containerViewerDisplayed)return;for(bt.O.maxWidth>0&&jQuery(bt.$E.base).css({maxWidth:""}),bt.$E.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton"),dt("",bt.$E.base),t=0;t<bt.tn.getHE().length;t++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(bt.tn.getHE()[t].name)&&bt.$E.base.css({overflow:"auto"});bt.$E.base.addClass("fullpage"),jQuery("body").css({overflow:"hidden"}),ae()}else{if(bt.containerViewerDisplayed)return;for(bt.$E.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton"),bt.O.maxWidth>0&&jQuery(bt.$E.base).css({maxWidth:bt.O.maxWidth}),bt.$E.base.removeClass("fullpage"),t=0;t<bt.tn.getHE().length;t++)/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(bt.tn.getHE()[t].name)&&bt.$E.base.css({overflow:"visible"});c(),ae()}}))}function c(){jQuery("body").css({overflow:"visible"})}function g(e,t){jQuery(e).css({left:t})}function m(e){function t(e){if(void 0!=e&&(null!=bt.$currentTouchedThumbnail&&Ge(bt.$currentTouchedThumbnail),bt.$currentTouchedThumbnail=null,"function"!=typeof bt.O.fnThumbnailClicked||bt.O.fnThumbnailClicked(bt.I[e].$elt,bt.I[e]))){if(void 0!==bt.I[e].destinationURL&&bt.I[e].destinationURL.length>0)return void(window.location=bt.I[e].destinationURL);bt.openNoDelay=!1,"album"==bt.I[e].kind?te(e,!1,-1,!0):Fe(e,!1)}}function a(){if(h=0,m=null,d=null,g(bt.$E.conTn[0],0),bt.containerViewerDisplayed)bt.$currentTouchedThumbnail=null,bt.openNoDelay=!1;else if(null!=bt.$currentTouchedThumbnail){if(Math.abs(f.t-ct().t)>10)return Ge(bt.$currentTouchedThumbnail),bt.$currentTouchedThumbnail=null,void(bt.openNoDelay=!1);var e=bt.$currentTouchedThumbnail,a=e.data("index");if(void 0==a)return;("l1"==bt.curNavLevel&&void 0!==bt.O.touchAnimationL1?bt.O.touchAnimationL1:bt.O.touchAnimation)&&!bt.openNoDelay?bt.O.touchAutoOpenDelay>0?(Ce(),Be(e),window.clearInterval(bt.touchAutoOpenDelayTimerID),bt.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(bt.touchAutoOpenDelayTimerID),Math.abs(f.t-ct().t)>10?(bt.openNoDelay=!1,bt.$currentTouchedThumbnail=null,Ge(e)):t(a)},bt.O.touchAutoOpenDelay)):bt.I[a].hovered?t(a):(Ce(),Be(e)):t(a)}else bt.openNoDelay=!1}function n(){if(null==d||null==m)return void a();var e=m.x-d.x;m.y-d.y;h-=e,bt.pgMaxLinesPerPage>0&&"auto"!=bt.tn.settings.getH()&&"auto"!=bt.tn.settings.getW()&&bt.O.paginationSwipe&&Math.abs(e)>40&&Math.abs(f.t-ct().t)<=10?(bt.$currentTouchedThumbnail=null,h=0,m=null,d=null,Ce(),-40>e?de():me()):a()}function i(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function l(){if(c){if(bt.pgMaxLinesPerPage>0&&"auto"!=bt.tn.settings.getH()&&"auto"!=bt.tn.settings.getW()){var e=m.x-d.x;g(u,h-e)}c=!1}}function o(e){if(!bt.containerViewerDisplayed){var t=e.target||e.srcElement;jQuery(t).hasClass("nanoGalleryThumbnailContainer")&&Be(jQuery(t))}}function s(e){var t=e.target||e.srcElement;jQuery(t).hasClass("nanoGalleryThumbnailContainer")&&Ge(jQuery(t))}var u=e,c=!1,m=null,d=null,h=0,b=!1,p=null,f=0;if(this.handleGestureStartNoDelay=function(e){var t=jQuery(e.target).get(0).tagName.toUpperCase();if(bt.containerViewerDisplayed||"A"==t||"INPUT"==t||jQuery(e.target).hasClass("customEventHandler")){if(jQuery(e.target).hasClass("ngChekbox")){var a=jQuery(e.target).parent().data("index");void 0!=a&&we(bt.I[a],void 0,!1)}return e.stopPropagation(),!1}r(e),(new Date).getTime()-bt.timeLastTouchStart<400&&bt.O.itemsSelectable!==!0||(bt.openNoDelay=!0,this.handleGestureStart(e))}.bind(this),this.handleGestureStart=function(e){var t=jQuery(e.target).get(0).tagName.toUpperCase();if(bt.containerViewerDisplayed||"A"==t||"INPUT"==t||jQuery(e.target).hasClass("customEventHandler"))return e.stopPropagation(),!1;if(!((new Date).getTime()-bt.timeImgChanged<400&&bt.O.itemsSelectable!==!0||(new Date).getTime()-bt.timeLastTouchStart<400&&bt.O.itemsSelectable!==!0)){bt.timeLastTouchStart=(new Date).getTime();for(var a=e.target||e.srcElement,n=!1;a!=bt.$E.conTn[0];)jQuery(a).hasClass("nanoGalleryThumbnailContainer")&&(null==bt.$currentTouchedThumbnail||bt.$currentTouchedThumbnail.is(jQuery(a))||Ce(),bt.$currentTouchedThumbnail=jQuery(a),n=!0),a=a.parentNode;if(n){if(bt.O.itemsSelectable===!0){if(bt.isShiftPressed||bt.isCtrlPressed||bt.isMetaPressed||"input"===e.target.nodeName.toLowerCase())return we(bt.I[bt.$currentTouchedThumbnail.data("index")]),!1;if(bt.selectMode===!0)return we(bt.I[bt.$currentTouchedThumbnail.data("index")]),!1;if(bt.I[bt.$currentTouchedThumbnail.data("index")].kind===bt.selectMode)return we(bt.I[bt.$currentTouchedThumbnail.data("index")]),!1;var r=bt.$currentTouchedThumbnail.data("index");bt.touchSelectTO=setTimeout(function(){we(bt.I[r])},500)}f=ct(),m=i(e),initialOffsetTop=ct().t,window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",this.handleGestureMove,!0),document.addEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.addEventListener("touchmove",this.handleGestureMove,!0),document.addEventListener("touchend",this.handleGestureEnd,!0),document.addEventListener("touchcancel",this.handleGestureEnd,!0),document.addEventListener("mousemove",this.handleGestureMove,!0),document.addEventListener("mouseup",this.handleGestureEnd,!0)),bt.$E.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on"),bt.gallerySwipeInitDone=!0}}}.bind(this),this.handleGestureMove=function(e){d=i(e),c||bt.O.paginationSwipe&&bt.pgMaxLinesPerPage>0&&"auto"!=bt.tn.settings.getH()&&"auto"!=bt.tn.settings.getW()&&(Math.abs(m.x-d.x)>15||b)&&(e.preventDefault(),b=!0,c=!0,window.requestAnimationFrame(l))}.bind(this),this.handleGestureEnd=function(e){if(e.cancelable&&e.preventDefault(),e.stopPropagation(),c=!1,b=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",this.handleGestureMove,!0),document.removeEventListener("MSPointerUp",this.handleGestureEnd,!0)):(document.removeEventListener("touchmove",this.handleGestureMove,!0),document.removeEventListener("touchend",this.handleGestureEnd,!0),document.removeEventListener("touchcancel",this.handleGestureEnd,!0),document.removeEventListener("mousemove",this.handleGestureMove,!0),document.removeEventListener("mouseup",this.handleGestureEnd,!0)),bt.O.itemsSelectable===!0){if((new Date).getTime()-bt.timeLastTouchStart>500)return!1;clearTimeout(bt.touchSelectTO)}bt.$E.base.addClass("unselectable").find("*").attr("draggable","true").attr("unselectable","off"),n(),m=null,d=null,h=0,b=!1,p=null}.bind(this),window.navigator.msPointerEnabled)u.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,!0);else if(u.addEventListener("touchstart",this.handleGestureStart,!0),!bt.isIOS){var v=this;u.addEventListener("mousedown",function(e){2!=e.button&&v.handleGestureStartNoDelay(e)},!0)}u.addEventListener("mouseenter",o,!0),u.addEventListener("mouseleave",s,!0)}function d(){"fancybox"==bt.O.viewer&&"undefined"==typeof jQuery.fancybox&&(bt.O.viewer="internal",ut("Fancybox could not be found. Fallback to internal viewer. Please check the files included in the HTML page.")),("CBRISBOIS@GMAIL.COM"==bt.O.userID.toUpperCase()||"111186676244625461692"==bt.O.userID)&&(""==bt.O.blackList||"SCRAPBOOK|PROFIL"==bt.O.blackList.toUpperCase())&&(bt.O.blackList="profil|scrapbook|forhomepage"),""!=bt.O.blackList&&(bt.blackList=bt.O.blackList.toUpperCase().split("|")),""!=bt.O.whiteList&&(bt.whiteList=bt.O.whiteList.toUpperCase().split("|")),""!=bt.O.albumList&&(bt.albumList=bt.O.albumList.toUpperCase().split("|")),("picasa"==bt.O.kind||"flickr"==bt.O.kind)&&(bt.O.displayBreadcrumb=!0),void 0!==bt.O.photoset?bt.O.photoset.length>0&&(bt.O.displayBreadcrumb=!1):bt.O.photoset="",void 0!==bt.O.album?bt.O.album.length>0&&(bt.O.displayBreadcrumb=!1):bt.O.album="",bt.O.maxWidth>0&&(jQuery(bt.$E.base).css({maxWidth:bt.O.maxWidth}),jQuery(bt.$E.base).css({"margin-left":"auto"}),jQuery(bt.$E.base).css({"margin-right":"auto"})),"number"==ft(bt.O.slideshowDelay)&&bt.O.slideshowDelay>=2e3?bt.slideshowDelay=bt.O.slideshowDelay:ut('Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==ft(bt.O.thumbnailDisplayInterval)&&bt.O.thumbnailDisplayInterval>=0?bt.tn.displayInterval=bt.O.thumbnailDisplayInterval:ut('Parameter "thumbnailDisplayInterval" must be an integer.'),"number"==ft(bt.O.thumbnailLazyLoadTreshold)&&bt.O.thumbnailLazyLoadTreshold>=0?bt.tn.lazyLoadTreshold=bt.O.thumbnailLazyLoadTreshold:ut('Parameter "thumbnailLazyLoadTreshold" must be an integer.'),"number"==ft(bt.O.paginationMaxLinesPerPage)&&bt.O.paginationMaxLinesPerPage>=0?bt.pgMaxLinesPerPage=bt.O.paginationMaxLinesPerPage:ut('Parameter "paginationMaxLinesPerPage" must be an integer.'),void 0!==bt.O.thumbnailSizeSM&&(bt.O.breakpointSizeSM=bt.O.thumbnailSizeSM),void 0!==bt.O.thumbnailSizeME&&(bt.O.breakpointSizeME=bt.O.thumbnailSizeME),void 0!==bt.O.thumbnailSizeLA&&(bt.O.breakpointSizeLA=bt.O.thumbnailSizeLA),void 0!==bt.O.thumbnailSizeXL&&(bt.O.breakpointSizeXL=bt.O.thumbnailSizeXL);var e=bt.O.albumSorting.toUpperCase();0==e.indexOf("RANDOM")&&e.length>6&&(n=parseInt(e.substring(6)),n>0&&(bt.maxAlbums=n),bt.O.albumSorting="random");var t=bt.O.photoSorting.toUpperCase();0==t.indexOf("RANDOM")&&t.length>6&&(n=parseInt(t.substring(6)),n>0&&(bt.maxPhotos=n),bt.O.photoSorting="random");var a=parseInt(bt.O.albumMax);a>0&&(bt.maxAlbums=n);var i=bt.O.thumbnailL1HoverEffect;if(void 0!==i)switch(ft(i)){case"string":for(var r=i.split(","),l=0;l<r.length;l++)if("none"!=r[l]&&v(r[l])){var o=f();o.name=r[l],bt.tnL1HE.push(o)}break;case"object":if("none"!=i.name&&v(i.name)){var o=f();bt.tnL1HE.push(jQuery.extend(o,i))}break;case"array":for(var l=0;l<i.length;l++)if("none"!=i[l].name&&v(i[l].name)){var o=f();bt.tnL1HE.push(jQuery.extend(o,i[l]))}break;case"null":break;default:st('incorrect parameter for "thumbnailL1HoverEffect".')}var s=bt.O.thumbnailHoverEffect;switch(ft(s)){case"string":for(var r=s.split(","),l=0;l<r.length;l++)if("none"!=r[l]&&v(r[l])){var o=f();o.name=r[l],bt.tnHE.push(o)}break;case"object":if("none"!=s.name&&v(s.name)){var o=f();bt.tnHE.push(jQuery.extend(o,s))}break;case"array":for(var l=0;l<s.length;l++)if("none"!=s[l].name&&v(s[l].name)){var o=f();bt.tnHE.push(jQuery.extend(o,s[l]))}break;case"null":break;default:st('incorrect parameter for "thumbnailHoverEffect".')}if(0==bt.tnHE.length&&(0==bt.tnL1HE.length&&(bt.O.touchAnimationL1=!1),bt.O.touchAnimation=!1),bt.curWidth=b(),"number"==ft(bt.O.thumbnailWidth))h("width","l1",bt.O.thumbnailWidth,"u"),h("width","lN",bt.O.thumbnailWidth,"u");else{var u=bt.O.thumbnailWidth.split(" "),c="auto";"auto"!=u[0].substring(0,4)&&(c=parseInt(u[0]));var g="u";"C"==u[0].charAt(u[0].length-1)&&(g="c"),h("width","l1",c,g),h("width","lN",c,g);for(var l=1;l<u.length;l++){var m=u[l].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var d=u[l].substring(2),c="auto";"auto"!=d.substring(0,4)&&(c=parseInt(d));var g="u";"C"==d.charAt(d.length-1)&&(g="c"),bt.tn.settings.width.l1[m]=c,bt.tn.settings.width.lN[m]=c,bt.tn.settings.width.l1[m+"c"]=g,bt.tn.settings.width.lN[m+"c"]=g}}}if(void 0!=bt.O.thumbnailL1Width)if("number"==ft(bt.O.thumbnailL1Width))h("width","l1",bt.O.thumbnailL1Width,"u");else{var u=bt.O.thumbnailL1Width.split(" "),c="auto";"auto"!=u[0].substring(0,4)&&(c=parseInt(u[0]));var g="u";"C"==u[0].charAt(u[0].length-1)&&(g="c"),h("width","l1",c,g);for(var l=1;l<u.length;l++){var m=u[l].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var d=u[l].substring(2),c="auto";"auto"!=d.substring(0,4)&&(c=parseInt(d));var g="u";"C"==d.charAt(d.length-1)&&(g="c"),bt.tn.settings.width.l1[m]=c,bt.tn.settings.width.l1[m+"c"]=g}}}if("number"==ft(bt.O.thumbnailHeight))h("height","l1",bt.O.thumbnailHeight,"u"),h("height","lN",bt.O.thumbnailHeight,"u");else{var u=bt.O.thumbnailHeight.split(" "),c="auto";"auto"!=u[0].substring(0,4)&&(c=parseInt(u[0]));var g="u";"C"==u[0].charAt(u[0].length-1)&&(g="c"),h("height","l1",c,g),h("height","lN",c,g);for(var l=1;l<u.length;l++){var m=u[l].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var d=u[l].substring(2),c="auto";"auto"!=d.substring(0,4)&&(c=parseInt(d));var g="u";"C"==d.charAt(d.length-1)&&(g="c"),bt.tn.settings.height.l1[m]=c,bt.tn.settings.height.lN[m]=c,bt.tn.settings.height.l1[m+"c"]=g,bt.tn.settings.height.lN[m+"c"]=g}}}if(void 0!=bt.O.thumbnailL1Height)if("number"==ft(bt.O.thumbnailL1Height))h("height","l1",bt.O.thumbnailL1Height,"u");else{var u=bt.O.thumbnailL1Height.split(" "),c="auto";"auto"!=u[0].substring(0,4)&&(c=parseInt(u[0]));var g="u";"C"==u[0].charAt(u[0].length-1)&&(g="c"),h("height","l1",c,g);for(var l=1;l<u.length;l++){var m=u[l].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(m)){var d=u[l].substring(2),c="auto";"auto"!=d.substring(0,4)&&(c=parseInt(d));var g="u";"C"==d.charAt(d.length-1)&&(g="c"),bt.tn.settings.height.l1[m]=c,bt.tn.settings.height.l1[m+"c"]=g}}}}function h(e,t,a,n){bt.tn.settings[e][t].xs=a,bt.tn.settings[e][t].sm=a,bt.tn.settings[e][t].me=a,bt.tn.settings[e][t].la=a,bt.tn.settings[e][t].xl=a,bt.tn.settings[e][t].xsc=n,bt.tn.settings[e][t].smc=n,bt.tn.settings[e][t].mec=n,bt.tn.settings[e][t].lac=n,bt.tn.settings[e][t].xlc=n}function b(){var e=ct().w;return bt.O.breakpointSizeSM>0&&e<bt.O.breakpointSizeSM?"xs":bt.O.breakpointSizeME>0&&e<bt.O.breakpointSizeME?"sm":bt.O.breakpointSizeLA>0&&e<bt.O.breakpointSizeLA?"me":bt.O.breakpointSizeXL>0&&e<bt.O.breakpointSizeXL?"la":"xl"}function p(){var e=Math.max(ct().w,ct().h);return bt.O.breakpointSizeSM>0&&e<bt.O.breakpointSizeSM?"xs":bt.O.breakpointSizeME>0&&e<bt.O.breakpointSizeME?"sm":bt.O.breakpointSizeLA>0&&e<bt.O.breakpointSizeLA?"me":bt.O.breakpointSizeXL>0&&e<bt.O.breakpointSizeXL?"la":"xl"}function f(){var e={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing",animParam:null};return"animate"!=bt.aengine&&(e.easing="ease",e.easingBack="ease"),e}function v(e){var t=/labelOpacity50|borderLighter|borderDarker/i.test(e),a=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(e),n=/imageExplode/i.test(e);return bt.O.touchAutoOpenDelay=parseInt(bt.O.touchAutoOpenDelay),0==bt.O.touchAutoOpenDelay&&(bt.O.touchAutoOpenDelay=1e3),t||a||n?"onBottom"!=bt.O.thumbnailLabel.get("position")||/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(e)?!n||"animate"!=bt.aengine&&null!=bt.CSStransformName?!0:(ut('Parameter thumbnailHoverEffect="'+e+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".'),!1):(st('The parameter combination thumbnailHoverEffect="'+e+'" and thumbnailLabel.position="onBottom" is not supported.'),!1):(st('Unknow parameter value: thumbnailHoverEffect="'+e+'".'),!1)}function y(){bt.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===bt.i18nLang&&(bt.i18nLang="");var e=-("_"+bt.i18nLang).length;if("object"==ft(bt.O.i18n))for(var t in bt.O.i18n){var a=t.substr(e);a=="_"+bt.i18nLang?bt.i18nTranslations[t.substr(0,t.length-a.length)]=bt.O.i18n[t]:bt.i18nTranslations[t]=bt.O.i18n[t]}}function I(e){if(""!=bt.O.openOnStart){var t=bt.O.openOnStart;return bt.O.openOnStart="",w(!1,t,!0)}if(!bt.O.locationHash)return!1;var a="#nanogallery/"+bt.baseEltID+"/",n=location.hash;if(n!=bt.lastLocationHash){if(""==n&&-1!=bt.lastOpenAlbumID)return bt.lastLocationHash="",te(0,!1,-1,!1),!0;if(0==n.indexOf(a)){var t=n.substring(a.length);return w(e,t,!e)}}}function w(e,t,a){var n=null,i=null,r=t.indexOf("/"),l=-1,o=-1,s=bt.I.length;if(r>0){n=t.substring(0,r),i=t.substring(r+1);for(var u=0;s>u;u++)if("image"==bt.I[u].kind&&bt.I[u].GetID()==i){o=u;break}}else n=t;for(var u=0;s>u;u++)if("album"==bt.I[u].kind&&bt.I[u].GetID()==n){l=u;break}return null!==i?(a&&(bt.albumIdxToOpenOnViewerClose=l),""==bt.O.kind?Fe(o):-1==o?(bt.O.viewerFullscreen&&ngscreenfull.request(),te(l,!1,i,e)):Fe(o),!0):(te(l,!1,-1,e),!0)}function E(){bt.I=[],bt.curNavLevel="lN";var e="";bt.O.thumbnailLabel.get("displayDescription")&&(e="d");var t=W("dummydummydummy",bt.emptyGif,bt.emptyGif,e,"","image","","1","0"),a=ve(t,0,!1).e$;bt.tn.borderWidth=a.outerWidth(!0)-a.width(),bt.tn.borderHeight=a.outerHeight(!0)-a.height(),bt.tn.imgcBorderWidth=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width(),bt.tn.imgcBorderHeight=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height(),bt.tn.labelBorderHeight=a.find(".labelImage").outerHeight(!0)-a.find(".labelImage").height(),
bt.tn.labelBorderWidth=a.find(".labelImage").outerWidth(!0)-a.find(".labelImage").width(),"onBottom"==bt.O.thumbnailLabel.get("position")&&(bt.tn.labelHeight.lN=a.find(".labelImage").outerHeight(!0),bt.tn.labelHeight.l1=bt.tn.labelHeight.lN);for(var n=["xs","sm","me","la","xl"],i=0;i<n.length;i++)r=bt.tn.settings.width.lN[n[i]],r=bt.tn.settings.width.l1[n[i]],"auto"!=r?(bt.tn.outerWidth.lN[n[i]]=r+bt.tn.borderWidth+bt.tn.imgcBorderWidth,bt.tn.outerWidth.l1[n[i]]=r+bt.tn.borderWidth+bt.tn.imgcBorderWidth):(bt.tn.outerWidth.lN[n[i]]=0,bt.tn.outerWidth.l1[n[i]]=0);for(var i=0;i<n.length;i++)l=bt.tn.settings.height.lN[n[i]],l=bt.tn.settings.height.l1[n[i]],"auto"!=l?(bt.tn.outerHeight.lN[n[i]]=l+bt.tn.borderHeight+bt.tn.imgcBorderHeight+bt.tn.labelHeight.get(),bt.tn.outerHeight.l1[n[i]]=l+bt.tn.borderHeight+bt.tn.imgcBorderHeight+bt.tn.labelHeight.get()):(bt.tn.outerHeight.lN[n[i]]=0,bt.tn.outerHeight.l1[n[i]]=0);bt.I=[],bt.curNavLevel="l1",e="",bt.O.thumbnailLabel.get("displayDescription")&&(e="d"),t=W("dummydummydummy",bt.emptyGif,bt.emptyGif,e,"","image","","1","0"),a=ve(t,0,!1).e$,bt.tn.borderWidth=a.outerWidth(!0)-a.width(),bt.tn.borderHeight=a.outerHeight(!0)-a.height(),bt.tn.imgcBorderWidth=a.find(".imgContainer").outerWidth(!0)-a.find(".imgContainer").width(),bt.tn.imgcBorderHeight=a.find(".imgContainer").outerHeight(!0)-a.find(".imgContainer").height(),bt.tn.labelBorderHeight=a.find(".labelImage").outerHeight(!0)-a.find(".labelImage").height(),bt.tn.labelBorderWidth=a.find(".labelImage").outerWidth(!0)-a.find(".labelImage").width(),"onBottom"==bt.O.thumbnailLabel.get("position")&&(bt.tn.labelHeight.l1=a.find(".labelImage").outerHeight(!0));for(var n=["xs","sm","me","la","xl"],i=0;i<n.length;i++){var r=bt.tn.settings.width.l1[n[i]];"auto"!=r?bt.tn.outerWidth.l1[n[i]]=r+bt.tn.borderWidth+bt.tn.imgcBorderWidth:bt.tn.outerWidth.l1[n[i]]=0}for(var i=0;i<n.length;i++){var l=bt.tn.settings.height.l1[n[i]];"auto"!=l?bt.tn.outerHeight.l1[n[i]]=l+bt.tn.borderHeight+bt.tn.imgcBorderHeight+bt.tn.labelHeight.get():bt.tn.outerHeight.l1[n[i]]=0}bt.pgMaxNbThumbnailsPerRow=re(),bt.custGlobals.oldBorderColor=a.css("border-color-top"),(""==bt.custGlobals.oldBorderColor||null==bt.custGlobals.oldBorderColor||void 0==bt.custGlobals.oldBorderColor)&&(bt.custGlobals.oldBorderColor="#000"),bt.custGlobals.oldLabelOpacity=a.find(".labelImage").css("opacity");var o=jQuery.Color(a.find(".labelImage"),"backgroundColor");if("transparent"==o?(bt.custGlobals.oldLabelRed=0,bt.custGlobals.oldLabelGreen=0,bt.custGlobals.oldLabelBlue=0):(bt.custGlobals.oldLabelRed=o.red(),bt.custGlobals.oldLabelGreen=o.green(),bt.custGlobals.oldLabelBlue=o.blue()),bt.I=[],bt.O.thumbnailLabel.display)switch(bt.O.thumbnailLabel.position){case"onBottom":bt.tn.styleLabelImage="top:0; position:relative; left:0; right:0;",bt.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==bt.tn.settings.getH()?(bt.tn.styleFTitle="white-space:normal;",bt.tn.styleL1FTitle="white-space:normal;",bt.tn.styleITitle="white-space:normal;",bt.tn.styleL1ITitle="white-space:normal;",bt.tn.styleDesc="white-space:normal;",bt.tn.styleL1Desc="white-space:normal;"):(bt.tn.styleFTitle="white-space:nowrap;",bt.tn.styleL1FTitle="white-space:nowrap;",bt.tn.styleITitle="white-space:nowrap;",bt.tn.styleL1ITitle="white-space:nowrap;",bt.tn.styleDesc="white-space:nowrap;",bt.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":bt.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",bt.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":bt.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;",bt.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",bt.tn.styleFTitle="left:0; right:0; position:absolute; bottom:50%;",bt.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",bt.tn.styleITitle="left:0; right:0; position:absolute; bottom:50%;",bt.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",bt.tn.styleDesc="left:0; right:0; position:absolute; top:50%;",bt.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:bt.O.thumbnailLabel.position="overImageOnBottom",bt.tn.styleLabelImage="bottom:0; left:0; right:0;",bt.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}if(bt.O.thumbnailL1Label&&bt.O.thumbnailL1Label.display)switch(bt.O.thumbnailL1Label.position){case"onBottom":bt.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;","auto"==bt.tn.settings.getH()?(bt.tn.styleL1FTitle="white-space:normal;",bt.tn.styleL1ITitle="white-space:normal;",bt.tn.styleL1Desc="white-space:normal;"):(bt.tn.styleL1FTitle="white-space:nowrap;",bt.tn.styleL1ITitle="white-space:nowrap;",bt.tn.styleL1Desc="white-space:nowrap;");break;case"overImageOnTop":bt.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":bt.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;",bt.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;",bt.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;",bt.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":bt.tn.styleL1LabelImage="";break;case"overImageOnBottom":default:bt.O.thumbnailL1Label.position="overImageOnBottom",bt.tn.styleL1LabelImage="bottom:0; left:0; right:0;"}}function x(e,t){var a="";return a=""!=bt.i18nLang&&void 0!==e[t+"_"+bt.i18nLang]&&e[t+"_"+bt.i18nLang].length>0?e[t+"_"+bt.i18nLang]:e[t]}function C(e){if("%filename"==bt.O.thumbnailLabel.get("title"))return e.split("/").pop().replace("_"," ");if("%filenameNoExt"==bt.O.thumbnailLabel.get("title")){var t=e.split("/").pop();return t.split(".").shift().replace("_"," ")}return e}function k(){var e=!1;"undefined"!=typeof bt.O.dataSorting&&("random"==bt.O.dataSorting?bt.O.items=ht(bt.O.items):"reversed"==bt.O.dataSorting&&(bt.O.items=bt.O.items.reverse())),jQuery.each(bt.O.items,function(t,a){var n="";n=x(a,"title"),void 0===n&&(n="");var i=bt.O.itemsBaseURL;i+=void 0!==a["src"+p().toUpperCase()]?a["src"+p().toUpperCase()]:a.src;var r="";r=void 0!==a.srct&&a.srct.length>0?bt.O.itemsBaseURL+a.srct:i;var l="";l=void 0!==a.srct2x&&a.srct2x.length>0?bt.O.itemsBaseURL+a.srct2x:""!=r?r:i,""!=bt.O.thumbnailLabel.get("title")&&(n=C(i));var o="";o=x(a,"description"),void 0===o&&(o="");var s="";void 0!==a.destURL&&a.destURL.length>0&&(s=a.destURL);var u=x(a,"tags");void 0===u&&(u="");var c=0;void 0!==a.albumID&&(c=a.albumID,e=!0);var g=null;void 0!==a.ID&&(g=a.ID);var m="image";void 0!==a.kind&&a.kind.length>0&&(m=a.kind);var d=W(n,r,i,o,s,m,u,g,c),h=0;void 0!==a.imgtWidth&&a.imgtWidth>0&&(h=a.imgtWidth);var b=0;void 0!==a.imgtHeight&&a.imgtHeight>0&&(b=a.imgtHeight),d.thumbs={url:{l1:{xs:r,sm:r,me:r,la:r,xl:r},lN:{xs:r,sm:r,me:r,la:r,xl:r}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:b,sm:b,me:b,la:b,xl:b},lN:{xs:b,sm:b,me:b,la:b,xl:b}}},null!==a.customData&&(d.customData=S(a.customData)),"function"==typeof bt.O.fnProcessData&&bt.O.fnProcessData(d,"api",null)}),e&&(bt.O.displayBreadcrumb=!0);for(var t=bt.I.length,a=0,n=0,i=0;t>i;i++){a=0,n=0;for(var r=0;t>r;r++)i!=r&&bt.I[i].GetID()==bt.I[r].albumID&&(a++,"image"==bt.I[r].kind&&(bt.I[r].imageNumber=n++));bt.I[i].contentLength=a}}function S(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var a in e)t[a]=S(e[a]);return t}function L(e){var t=!1;"undefined"!=typeof bt.O.dataSorting&&("random"==bt.O.dataSorting?e=ht(e):"reversed"==bt.O.dataSorting&&(jQuery.fn.reverse=[].reverse,e=e.reverse())),jQuery.each(e,function(e,a){var n="";void 0!==jQuery(a).attr("data-ngthumb")&&jQuery(a).attr("data-ngthumb").length>0&&(n=bt.O.itemsBaseURL+jQuery(a).attr("data-ngthumb")),void 0!==jQuery(a).attr("data-ngThumb")&&jQuery(a).attr("data-ngThumb").length>0&&(n=bt.O.itemsBaseURL+jQuery(a).attr("data-ngThumb"));var i="";void 0!==jQuery(a).attr("data-ngthumb2x")&&jQuery(a).attr("data-ngthumb2x").length>0&&(i=bt.O.itemsBaseURL+jQuery(a).attr("data-ngthumb2x")),void 0!==jQuery(a).attr("data-ngThumb2x")&&jQuery(a).attr("data-ngThumb2x").length>0&&(i=bt.O.itemsBaseURL+jQuery(a).attr("data-ngThumb2x"));var r="",l=p().toUpperCase();void 0!==jQuery(a).attr("data-ngsrc"+l)&&jQuery(a).attr("data-ngsrc"+l).length>0&&(r=bt.O.itemsBaseURL+jQuery(a).attr("data-ngsrc"+l)),void 0!==jQuery(a).attr("data-ngSrc"+l)&&jQuery(a).attr("data-ngSrc"+l).length>0&&(r=bt.O.itemsBaseURL+jQuery(a).attr("data-ngSrc"+l)),""==r&&(r=bt.O.itemsBaseURL+jQuery(a).attr("href"));var o="";void 0!==jQuery(a).attr("data-ngdesc")&&jQuery(a).attr("data-ngdesc").length>0&&(o=jQuery(a).attr("data-ngdesc")),void 0!==jQuery(a).attr("data-ngDesc")&&jQuery(a).attr("data-ngDesc").length>0&&(o=jQuery(a).attr("data-ngDesc"));var s="";void 0!==jQuery(a).attr("data-ngdest")&&jQuery(a).attr("data-ngdest").length>0&&(s=jQuery(a).attr("data-ngdest")),void 0!==jQuery(a).attr("data-ngDest")&&jQuery(a).attr("data-ngDest").length>0&&(s=jQuery(a).attr("data-ngDest"));var u=0;void 0!==jQuery(a).attr("data-ngalbumid")&&(u=jQuery(a).attr("data-ngalbumid"),t=!0),void 0!==jQuery(a).attr("data-ngAlbumID")&&(u=jQuery(a).attr("data-ngAlbumID"),t=!0);var c=null;void 0!==jQuery(a).attr("data-ngid")&&(c=jQuery(a).attr("data-ngid")),void 0!==jQuery(a).attr("data-ngID")&&(c=jQuery(a).attr("data-ngID"));var g="image";void 0!==jQuery(a).attr("data-ngkind")&&jQuery(a).attr("data-ngkind").length>0&&(g=jQuery(a).attr("data-ngkind")),void 0!==jQuery(a).attr("data-ngKind")&&jQuery(a).attr("data-ngKind").length>0&&(g=jQuery(a).attr("data-ngKind"));var m=jQuery(a).text();""!=bt.O.thumbnailLabel.get("title")&&void 0!=bt.O.thumbnailLabel.get("title")&&(m=C(r));var d=W(m,n,r,o,s,g,"",c,u),h=0;void 0!==jQuery(a).attr("data-ngthumbImgWidth")&&jQuery(a).attr("data-ngthumbImgWidth").length>0&&(h=jQuery(a).attr("data-ngthumbImgWidth"));var b=0;void 0!==jQuery(a).attr("data-ngthumbImgHeight")&&jQuery(a).attr("data-ngthumbImgHeight").length>0&&(b=jQuery(a).attr("data-ngthumbImgHeight")),d.thumbs={url:{l1:{xs:n,sm:n,me:n,la:n,xl:n},lN:{xs:n,sm:n,me:n,la:n,xl:n}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:b,sm:b,me:b,la:b,xl:b},lN:{xs:b,sm:b,me:b,la:b,xl:b}}},void 0!==jQuery(a).data("customdata")&&(d.customData=S(jQuery(a).data("customdata"))),"function"==typeof bt.O.fnProcessData&&bt.O.fnProcessData(d,"markup",null)}),jQuery.each(e,function(e,t){jQuery(t).remove()}),t&&(bt.O.displayBreadcrumb=!0);for(var a=bt.I.length,n=0,i=0,r=0;a>r;r++){n=0,i=0;for(var l=0;a>l;l++)r!=l&&bt.I[r].GetID()==bt.I[l].albumID&&(n++,"image"==bt.I[l].kind&&(bt.I[l].imageNumber=i++));bt.I[r].contentLength=n}}function $(e,t,a,n){if(K(e),bt.I[e].contentIsLoaded)return void Q(e,n);var i=bt.O.jsonProvider+"?albumID="+encodeURIComponent(bt.I[e].GetID());J(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var r=setTimeout(function(){ee(),st("Could not retrieve Custom data...")},6e4);jQuery.getJSON(i,function(i,l,o){if(clearTimeout(r),ee(),T(e,i),t||""!=bt.O.openOnStart)I(!1)||Q(e,n);else if(-1!=a){for(var s=-1,u=bt.I.length,c=0;u>c;c++)if("image"==bt.I[c].kind&&bt.I[c].GetID()==a){s=c;break}Fe(s,!0)}else Q(e,n)}).fail(function(e,t,a){clearTimeout(r),ee();var n=t+", "+a;st("Could not retrieve JSON items list (jQuery): "+n)})}function O(e){return decodeURIComponent(e)}function T(e,t){var a=!1,n=0;jQuery.each(t,function(e,t){var i="";i=x(t,"title"),void 0===i&&(i="");var r=bt.O.jsonProvider.substring(0,bt.O.jsonProvider.indexOf("nanoPhotosProvider.php")),l=r+O(t.src),o=r+O(t.srct);""!=bt.O.thumbnailLabel.get("title")&&(i=C(t.src));var s="";s=x(t,"description"),void 0===s&&(s="");var u="",c=0;void 0!==t.albumID&&(c=t.albumID,a=!0);var g=null;void 0!==t.ID&&(g=t.ID);var m="image";void 0!==t.kind&&t.kind.length>0&&(m=t.kind);var d=W(i,o,l,s,u,m,"",g,c),h=t.imgtWidth,b=t.imgtHeight;return d.thumbs={url:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}},width:{l1:{xs:h,sm:h,me:h,la:h,xl:h},lN:{xs:h,sm:h,me:h,la:h,xl:h}},height:{l1:{xs:b,sm:b,me:b,la:b,xl:b},lN:{xs:b,sm:b,me:b,la:b,xl:b}}},"function"==typeof bt.O.fnProcessData&&bt.O.fnProcessData(d,"api",null),"image"==m&&(d.imageNumber=n,n++,n>=bt.maxAlbums)?!1:void 0}),a&&(bt.O.displayBreadcrumb=!0),bt.I[e].contentIsLoaded=!0,bt.I[e].contentLength=n}function D(e,t,a,n){if(K(e),bt.I[e].contentIsLoaded)return void Q(e,n);var i="",r="album";0==bt.I[e].GetID()?i=bt.flickr.url()+"?&method=flickr.photosets.getList&api_key="+bt.flickr.ApiKey+"&user_id="+bt.O.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?":(i="none"==bt.I[e].GetID()?bt.flickr.url()+"?&method=flickr.people.getPublicPhotos&api_key="+bt.flickr.ApiKey+"&user_id="+bt.O.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?":bt.flickr.url()+"?&method=flickr.photosets.getPhotos&api_key="+bt.flickr.ApiKey+"&photoset_id="+bt.I[e].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?",r="image"),J(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var l=setTimeout(function(){ee(),st("Could not retrieve Flickr data...")},6e4);jQuery.getJSON(i,function(i,o,s){if(clearTimeout(l),ee(),"album"==r?B(e,i):F(e,i),t||""!=bt.O.openOnStart)I(!1)||Q(e,n);else if(-1!=a){for(var u=-1,c=bt.I.length,g=0;c>g;g++)if("image"==bt.I[g].kind&&bt.I[g].GetID()==a){u=g;break}Fe(u,!0)}else Q(e,n)}).fail(function(e,t,a){clearTimeout(l),ee();var n=t+", "+a;st("Could not retrieve Flickr photoset list (jQuery): "+n)})}function B(e,t){var a=!0;if(void 0!==t.stat&&"fail"===t.stat&&(st("Could not retrieve Flickr photoset list: "+t.message+" (code: "+t.code+")."),a=!1),a){var n=0,i=t.photosets.photoset;switch(bt.O.albumSorting){case"random":i=ht(i);break;case"reversed":i=i.reverse();break;case"titleAsc":i.sort(function(e,t){var a=e.title._content.toUpperCase(),n=t.title._content.toUpperCase();return n>a?-1:a>n?1:0});break;case"titleDesc":i.sort(function(e,t){var a=e.title._content.toUpperCase(),n=t.title._content.toUpperCase();return a>n?-1:n>a?1:0})}jQuery.each(i,function(t,a){if(itemTitle=a.title._content,R(itemTitle,a.id)){itemID=a.id,itemDescription="",void 0!=a.description._content&&(itemDescription=a.description._content);var i={};for(var r in a.primary_photo_extras)i[r]=a.primary_photo_extras[r];tags="",void 0!==a.primary_photo_extras&&void 0!==a.primary_photo_extras.tags&&(tags=a.primary_photo_extras.tags);var l=W(itemTitle,"","",itemDescription,"","album",tags,itemID,bt.I[e].GetID());l.contentLength=a.photos,l.thumbSizes=i;var o={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(o=H(o,a.primary_photo_extras,"l1"),o=H(o,a.primary_photo_extras,"lN"),l.thumbs=o,n++,n>=bt.maxAlbums)return!1}}),bt.I[e].contentIsLoaded=!0,bt.I[e].contentLength=n}}function H(e,t,a){for(var n=["xs","sm","me","la","xl"],i=0;i<n.length;i++)if("auto"==bt.tn.settings.width[a][n[i]]){var r="height_",l=Math.ceil(bt.tn.settings.height[a][n[i]]*bt.tn.scale),o=G(r,l,t);e.url[a][n[i]]=o.url,e.width[a][n[i]]=o.width,e.height[a][n[i]]=o.height}else if("auto"==bt.tn.settings.height[a][n[i]]){var r="width_",l=Math.ceil(bt.tn.settings.width[a][n[i]]*bt.tn.scale),o=G(r,l,t);e.url[a][n[i]]=o.url,e.width[a][n[i]]=o.width,e.height[a][n[i]]=o.height}else{var r="height_",l=Math.ceil(bt.tn.settings.height[a][n[i]]*bt.tn.scale);bt.tn.settings.width[a][n[i]]>bt.tn.settings.height[a][n[i]]&&(r="width_",l=Math.ceil(bt.tn.settings.width[a][n[i]]*bt.tn.scale));var o=G(r,l,t);e.url[a][n[i]]=o.url,e.width[a][n[i]]=o.width,e.height[a][n[i]]=o.height}return e}function G(e,t,a){for(var n={url:"",width:0,height:0},i=0,r=0;r<bt.flickr.thumbAvailableSizes.length;r++){var l=a[e+bt.flickr.photoAvailableSizesStr[r]];if(void 0!=l&&(i=r,l>=t))break}var o=bt.flickr.photoAvailableSizesStr[i];return n.url=a["url_"+o],n.width=parseInt(a["width_"+o]),n.height=parseInt(a["height_"+o]),n}function F(e,t){var a="";switch(a="none"==bt.I[e].GetID()?t.photos.photo:t.photoset.photo,bt.O.photoSorting){case"random":a=ht(a);break;case"reversed":a=a.reverse();break;case"titleAsc":a.sort(function(e,t){var a="",n="";return""!=bt.O.thumbnailLabel.get("title")?(a=C(e.url_sq),n=C(t.url_sq)):(a=e.title.toUpperCase(),n=t.title.toUpperCase()),n>a?-1:a>n?1:0});break;case"titleDesc":a.sort(function(e,t){var a="",n="";return""!=bt.O.thumbnailLabel.get("title")?(a=C(e.url_sq),n=C(t.url_sq)):(a=e.title.toUpperCase(),n=t.title.toUpperCase()),a>n?-1:n>a?1:0})}var n=bt.I[e].GetID(),i=0;jQuery.each(a,function(e,t){for(var a=t.title,r=t.id,l=t.description._content,o=t.url_sq,e=bt.flickr.photoSize;e>=0;e--)if(void 0!=t["url_"+bt.flickr.photoAvailableSizesStr[e]]){o=t["url_"+bt.flickr.photoAvailableSizesStr[e]];break}var s={};for(var u in t)(0==u.indexOf("height_")||0==u.indexOf("width_")||0==u.indexOf("url_"))&&(s[u]=t[u]);""!=bt.O.thumbnailLabel.get("title")&&(a=C(o));var c=W(a,"",o,l,"","image","",r,n);c.imageNumber=i,void 0!==t.url_o?(c.width=t.width_o,c.height=t.height_o):(c.width=t.width_z,c.height=t.height_z);var g={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};return g=H(g,t,"l1"),g=H(g,t,"lN"),c.thumbs=g,i++,i>=bt.maxPhotos?!1:void 0}),bt.I[e].contentIsLoaded=!0,bt.I[e].contentLength=i}function _(e,t,a,n,i){var r=Math.ceil(a*bt.tn.scale)+i;return"auto"==t?r=Math.ceil(a*bt.tn.scale)+i:"auto"==a?r=Math.ceil(t*bt.tn.scale)+n:t>a&&(r=Math.ceil(t*bt.tn.scale)+n),e.length>0&&(e+=","),e+=r}function P(e,t,a,n){if(K(e),bt.I[e].contentIsLoaded)return void Q(e,n);var i="",r="album",l="";if(l=_(l,bt.tn.settings.width.l1.xs,bt.tn.settings.height.l1.xs,bt.tn.settings.width.l1.xsc,bt.tn.settings.height.l1.xsc),l=_(l,bt.tn.settings.width.l1.sm,bt.tn.settings.height.l1.sm,bt.tn.settings.width.l1.smc,bt.tn.settings.height.l1.smc),l=_(l,bt.tn.settings.width.l1.me,bt.tn.settings.height.l1.me,bt.tn.settings.width.l1.mec,bt.tn.settings.height.l1.mec),l=_(l,bt.tn.settings.width.l1.la,bt.tn.settings.height.l1.la,bt.tn.settings.width.l1.lac,bt.tn.settings.height.l1.lac),l=_(l,bt.tn.settings.width.l1.xl,bt.tn.settings.height.l1.xl,bt.tn.settings.width.l1.xlc,bt.tn.settings.height.l1.xlc),l=_(l,bt.tn.settings.width.lN.xs,bt.tn.settings.height.lN.xs,bt.tn.settings.width.lN.xsc,bt.tn.settings.height.lN.xsc),l=_(l,bt.tn.settings.width.lN.sm,bt.tn.settings.height.lN.sm,bt.tn.settings.width.lN.smc,bt.tn.settings.height.lN.smc),l=_(l,bt.tn.settings.width.lN.me,bt.tn.settings.height.lN.me,bt.tn.settings.width.lN.mec,bt.tn.settings.height.lN.mec),l=_(l,bt.tn.settings.width.lN.la,bt.tn.settings.height.lN.la,bt.tn.settings.width.lN.lac,bt.tn.settings.height.lN.lac),l=_(l,bt.tn.settings.width.lN.xl,bt.tn.settings.height.lN.xl,bt.tn.settings.width.lN.xlc,bt.tn.settings.height.lN.xlc),0==bt.I[e].GetID())i=bt.picasa.url()+"user/"+bt.O.userID+"?alt=json&kind=album&thumbsize="+l+"&rnd="+(new Date).getTime();else{var o="";"undefined"!=typeof bt.I[e].customData.authkey&&(o=bt.I[e].customData.authkey),i=bt.picasa.url()+"user/"+bt.O.userID+"/albumid/"+bt.I[e].GetID()+"?alt=json&kind=photo"+o+"&thumbsize="+l+"&imgmax=d",r="image"}J(),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var s=setTimeout(function(){ee(),st("Could not retrieve Picasa/Google+ data...")},6e4),u=function(i){if(clearTimeout(s),ee(),M(e,i,r),t||""!=bt.O.openOnStart)I(!1)||Q(e,n);else if(-1!=a){for(var l=-1,o=bt.I.length,u=0;o>u;u++)if("image"==bt.I[u].kind&&bt.I[u].GetID()==a){l=u;break}Fe(l,!0)}else Q(e,n)},c=null,g=function(e,t){jQuery.getJSON(e+"&start-index="+t,"callback=?",function(t){null===c?c=t:c.feed.entry=c.feed.entry.concat(t.feed.entry),t.feed.openSearch$startIndex.$t+t.feed.openSearch$itemsPerPage.$t>=t.feed.openSearch$totalResults.$t?u(c):g(e,t.feed.openSearch$startIndex.$t+t.feed.openSearch$itemsPerPage.$t)}).fail(function(t,a,n){clearTimeout(s),ee();var i="";for(var r in t)i+=r+"="+t[r]+"<br>";var l=a+", "+n+" "+i+"<br><br>URL:"+e;st("Could not retrieve Picasa/Google+ data. Error: "+l)})};g(i,1)}function M(e,t,a){var n=0,i=bt.I[e].GetID(),r=t.feed.entry,l=bt.O.albumSorting;switch("image"==a&&(l=bt.O.photoSorting),l){case"random":r=ht(r);break;case"reversed":r=r.reverse();break;case"titleAsc":r.sort(function(e,t){var n="",i="";return"image"==a?""!=bt.O.thumbnailLabel.get("title")?(n=C(unescape(unescape(unescape(unescape(e.media$group.media$content[0].url))))),i=C(unescape(unescape(unescape(unescape(t.media$group.media$content[0].url)))))):(n=e.media$group.media$description.$t.toUpperCase(),i=t.media$group.media$description.$t.toUpperCase()):(n=e.media$group.media$title.$t.toUpperCase(),i=t.media$group.media$title.$t.toUpperCase()),i>n?-1:n>i?1:0});break;case"titleDesc":r.sort(function(e,t){var n="",i="";return"image"==a?""!=bt.O.thumbnailLabel.get("title")?(n=C(unescape(unescape(unescape(unescape(e.media$group.media$content[0].url))))),i=C(unescape(unescape(unescape(unescape(t.media$group.media$content[0].url)))))):(n=e.media$group.media$description.$t.toUpperCase(),i=t.media$group.media$description.$t.toUpperCase()):(n=e.media$group.media$title.$t.toUpperCase(),i=t.media$group.media$title.$t.toUpperCase()),n>i?-1:i>n?1:0})}jQuery.each(r,function(e,t){var r=t.media$group.media$title.$t,l=t.media$group.media$thumbnail[0].url,o=t.gphoto$id.$t,s="",u=t.media$group.media$description.$t;"image"==a&&(s=r,r=u,u="");var c=t.media$group.media$content[0].url;"image"==a&&""!=bt.O.thumbnailLabel.get("title")&&(r=C(unescape(unescape(unescape(unescape(c))))));var g=!0;"album"==a&&(R(r,o)||(g=!1));var m="";if(g){var d="",h="";if("album"==a)h=o;else{h=c;var b=c.substring(0,c.lastIndexOf("/"));b=b.substring(0,b.lastIndexOf("/"))+"/",h=window.screen.width>window.screen.height?b+"w"+window.screen.width+"/"+s:b+"h"+window.screen.height+"/"+s}var p=W(r,l,h,u,"",a,m,o,i);p.picasaThumbBaseURL=d,p.imageNumber=n,"album"==a&&(p.author=t.author[0].name.$t,p.contentLength=t.gphoto$numphotos.$t);var f={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};if(f=N("l1",0,f,t,a),f=N("lN",5,f,t,a),p.thumbs=f,"function"==typeof bt.O.fnProcessData&&bt.O.fnProcessData(p,"picasa",t),n++,n>=("album"==a?bt.maxAlbums:bt.maxPhotos))return!1}}),bt.I[e].contentIsLoaded=!0,bt.I[e].contentLength=n}function N(e,t,a,n,i){for(var r=["xs","sm","me","la","xl"],l=0;l<r.length;l++)if(a.url[e][r[l]]=n.media$group.media$thumbnail[t+l].url,"image"==i){a.width[e][r[l]]=n.media$group.media$thumbnail[t+l].width,a.height[e][r[l]]=n.media$group.media$thumbnail[t+l].height;var o=n.media$group.media$thumbnail[t+l].width,s=n.media$group.media$thumbnail[t+l].height;if("auto"==bt.tn.settings.width[e][r[l]]&&s<bt.tn.settings.height[e][r[l]]){var u=o/s;a.width[e][r[l]]=o*u,a.height[e][r[l]]=s*u;var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"h"+bt.tn.settings.height[e][r[l]]+"/"}if("auto"==bt.tn.settings.height[e][r[l]]&&o<bt.tn.settings.width[e][r[l]]){var u=s/o;a.height[e][r[l]]=s*u,a.width[e][r[l]]=o*u;var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"w"+bt.tn.settings.width[e][r[l]]+"/"}}else{if("auto"!=bt.tn.settings.width[e][r[l]])a.width[e][r[l]]=n.media$group.media$thumbnail[t+l].width;else{var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"h"+bt.tn.settings.height[e][r[l]]+"/"}if("auto"!=bt.tn.settings.height[e][r[l]])a.height[e][r[l]]=n.media$group.media$thumbnail[t+l].height;else{var c=a.url[e][r[l]].substring(0,a.url[e][r[l]].lastIndexOf("/"));c=c.substring(0,c.lastIndexOf("/"))+"/",a.url[e][r[l]]=c+"w"+bt.tn.settings.width[e][r[l]]+"/"}}return a}function W(e,t,a,n,i,r,l,o,s){var u=A(o),c=!1;return null===u?(u=new pt(e,o),c=!0):u.title=e,u.src=a,u.description=n,u.destinationURL=i,u.kind=r,u.albumID=s,0==l.length?u.tags=null:u.tags=l.split(" "),c&&(u.title=e,bt.I.push(u)),u}function A(e){for(var t=bt.I.length,a=0;t>a;a++)if(bt.I[a].GetID()==e)return bt.I[a];return null}function R(e,t){var a=e.toUpperCase();if(null===bt.albumList){var n=!1;if(null!==bt.whiteList){for(var i=0;i<bt.whiteList.length;i++)-1!==a.indexOf(bt.whiteList[i])&&(n=!0);if(!n)return!1}if(null!==bt.blackList)for(var i=0;i<bt.blackList.length;i++)if(-1!==a.indexOf(bt.blackList[i]))return!1;return!0}for(var i=0;i<bt.albumList.length;i++)if(a==bt.albumList[i].toUpperCase()||t==bt.albumList[i])return!0}function Q(e,t){"display"==bt.O.lazyBuild?mt(bt.$E.conTnParent,bt.O.lazyBuildTreshold)?V(e,t):(bt.delayedAlbumIdx=e,bt.delayedSetLocationHash=t):V(e,t)}function V(e,t){if(bt.O.lazyBuild="none",bt.delayedAlbumIdx=-1,bt.albumIdxToOpenOnViewerClose=-1,bt.O.thumbnailAlbumDisplayImage&&0!=e){for(var a=bt.I.length,n=0;a>n;n++)if(bt.I[n].albumID==bt.I[e].GetID()){Fe(n);break}}else if(bt.containerViewerDisplayed&&tt(!1),e!=bt.lastOpenAlbumID){if(bt.O.locationHash&&t){var i="nanogallery/"+bt.baseEltID+"/"+bt.I[e].GetID();bt.lastLocationHash="#"+i;try{top.location.hash=i}catch(r){bt.O.locationHash=!1}}bt.lastOpenAlbumID=bt.I[e].GetID(),K(e);var l=0;bt.I[e].paginationLastPage>0&&bt.I[e].paginationLastWidth==bt.$E.conTnParent.width()&&(l=bt.I[e].paginationLastPage),be(e,l)}}function z(){var e=U(bt.curAlbumIdx),t=e>0;te(e,!1,-1,t)}function q(){var e=X(bt.curAlbumIdx),t=e>0;te(e,!1,-1,t)}function U(e){for(var t=bt.I.length,a=-1,n=e+1;t>n;n++)if(bt.I[n].albumID==bt.I[e].albumID&&"album"==bt.I[n].kind){a=n;break}if(-1==a)for(var n=0;e>=n;n++)if(bt.I[n].albumID==bt.I[e].albumID&&"album"==bt.I[n].kind){a=n;break}return a}function X(e){for(var t=(bt.I.length,-1),a=e-1;a>=0;a--)if(bt.I[a].albumID==bt.I[e].albumID&&"album"==bt.I[a].kind){t=a;break}if(-1==t)for(var a=bt.I.length-1;a>=e;a--)if(bt.I[a].albumID==bt.I[e].albumID&&"album"==bt.I[a].kind){t=a;break}return t}function Y(e){var t="folder";0==e&&(t="folderHome");var a=jQuery('<div class="'+t+' oneFolder">'+bt.I[e].title+"</div>").appendTo(bt.$E.conBC);jQuery(a).data("albumIdx",e),a.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),te(e,!1,-1,!0)})}function Z(e){var t=jQuery('<div class="separator'+(bt.O.RTL?"RTL":"")+'"></div>').appendTo(bt.$E.conBC);jQuery(t).data("albumIdx",e),t.click(function(){var e=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove(),jQuery(this).remove(),te(e,!1,-1,!0)})}function K(e){var a=!1;if(1==bt.O.displayBreadcrumb&&!bt.O.thumbnailAlbumDisplayImage){if(0==bt.$E.conBC.children().length&&bt.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),a=!0,bt.$E.conBC.children().remove(),Y(0),0!=e){var n=bt.I.length,r=[];r.push(e);for(var l=e;0!=bt.I[l].albumID&&-1!=bt.I[l].albumID;)for(i=1;i<n;i++)if(bt.I[i].GetID()==bt.I[l].albumID){l=i,r.push(l);break}for(Z(0),i=r.length-1;i>=0;i--)Y(r[i]),i>0&&Z(r[i-1])}var o=bt.$E.conBC.children(),s=o.length;if(0==s)bt.curNavLevel="l1",bt.O.breadcrumbAutoHideTopLevel&&(bt.$E.conNavBCon.css({opacity:0,"max-height":"0px"}),a=!1);else if(1==s?bt.curNavLevel="l1":bt.curNavLevel="lN",1==s&&bt.O.breadcrumbAutoHideTopLevel){var u=new t;u.tween({from:{opacity:bt.$E.conNavBCon.css("opacity"),"max-height":bt.$E.conNavBCon.css("max-height")},to:{opacity:"0","max-height":"0px"},attachment:{$e:bt.$E.conNavBCon},duration:200,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css({opacity:"0","max-height":"0px"})}})}else if(bt.O.breadcrumbAutoHideTopLevel){var u=new t;u.tween({from:{opacity:bt.$E.conNavBCon.css("opacity"),"max-height":bt.$E.conNavBCon.css("max-height")},to:{opacity:"1","max-height":"50px"},attachment:{$e:bt.$E.conNavBCon},duration:200,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css({opacity:"1","max-height":"50px"})}})}else bt.$E.conNavBCon.css({opacity:1,"max-height":"50px"});bt.pgMaxNbThumbnailsPerRow=re()}bt.O.useTags&&(a=!0,null==bt.containerTags&&(bt.containerTags=jQuery('<div class="nanoGalleryTags"></div>').appendTo(bt.$E.conNavB))),bt.O.galleryFullpageButton&&(a=!0),!bt.containerNavigationbarContDisplayed&&a&&(bt.containerNavigationbarContDisplayed=!0,bt.$E.conNavBCon.show())}function J(){bt.$E.conLoadingB.addClass("nanoGalleryLBar").removeClass("nanoGalleryLBarOff")}function ee(){bt.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")}function te(e,t,a,n){if(bt.O.itemsSelectable&&bt.O.keepSelection===!1){bt.selectedItems=[];for(var i=bt.I.length,r=0;i>r;r++)bt.I[r].selected=!1}switch(bt.O.kind){case"":Q(e,n);break;case"flickr":D(e,t,a,n);break;case"json":$(e,t,a,n);break;case"picasa":default:P(e,t,a,n)}}function ae(){"auto"==bt.tn.settings.getH()?ne():"auto"==bt.tn.settings.getW()?ie():le(),ce(),ue(0)}function ne(){var e=bt.$E.conTnParent.width(),t=0,a=0,n=0,r=[],l=re(),o=0,s=bt.O.thumbnailGutterHeight,u=bt.tn.outerWidth.get(),c=bt.$E.conTn.find(".nanoGalleryThumbnailContainer");"justified"==bt.O.thumbnailAlignment?(l=Math.min(l,c.length),o=1==l?0:(e-l*u)/(l-1)):o=bt.O.thumbnailGutterWidth;var g=0;c.each(function(){var e=jQuery(this),i=e.data("index");if(void 0!==i){var u=0;if(0!=a)return!1;u=t*(bt.tn.outerWidth.get()+o),r[t]=bt.I[i].thumbFullHeight+s,t++,g++,t>=l&&(t=0,a++),n++}});var m=r.length*(u+o)-o;a=0,t=0,c.each(function(){var e=jQuery(this),u=e.data("index");if(void 0!==u){"onBottom"==bt.O.thumbnailLabel.get("position")&&xe(e,bt.I[u]);var c=0,g=0;if(0==a)c=t*(bt.tn.outerWidth.get()+o),r[t]=bt.I[u].thumbFullHeight+s,t++,t>=l&&(t=0,a++);else{var d=0,h=r[0];for(i=1;i<l;i++)if(r[i]+5<h){h=r[i],d=i;break}g=r[d],c=d*(bt.tn.outerWidth.get()+o),r[d]=g+bt.I[u].thumbFullHeight+s}var b=c;bt.O.RTL&&(b=m-c-bt.tn.outerWidth.get()),e.css({top:g,left:b}),oe(e,bt.I[u],n),n++}});var d=r[0];for(i=1;i<g;i++)d=Math.max(d,r[i]);bt.$E.conTn.width(m).height(d)}function ie(){var e=bt.$E.conTnParent.width(),t=0,a=0,n=0,i=[],r=0,l=[],o=!1,s=0,u=0,c=0,g=0,m=bt.O.thumbnailGutterWidth,d=bt.O.thumbnailGutterHeight,h=0,b=0,p=!1,f=!1,v=bt.$E.conTn.find(".nanoGalleryThumbnailContainer");v.each(function(){var a=jQuery(this).data("index");if(void 0!==a&&void 0!=bt.I[a]){if(!(bt.I[a].thumbImg().width>0&&bt.I[a].thumbImg().height>0))return!1;var n=bt.I[a],u=Math.floor(n.thumbImg().width/n.thumbImg().height*bt.tn.settings.getH())+bt.tn.borderWidth+bt.tn.imgcBorderWidth;if(bt.O.thumbnailFeatured&&0==s&&(u=2*u,c=u),o&&(o=!1,r++,t=0,p=!1,f=!1,1==r&&c>0&&(t=c,c=0)),n.thumbImg().height>n.thumbImg().width?p=!0:f=!0,e>t+u+m){t+=u+m,l[r]=bt.tn.settings.getH();var g=Math.max(p?h:0,f?b:0);bt.O.thumbnailAdjustLastRowHeight&&g>0&&(l[r]=Math.min(l[r],g)),i[r]=a}else{t+=u;var d=Math.floor(bt.tn.settings.getH()*e/t);l[r]=d,p&&(h=Math.max(h,d)),f&&(b=Math.max(b,d)),i[r]=a,o=!0}s++}}),r=0,n=0,a=0,s=0,v.each(function(){var t=jQuery(this),o=t.data("index");if(void 0!==o&&void 0!=bt.I[o]){if(!(bt.I[o].thumbImg().width>0&&bt.I[o].thumbImg().height>0))return!1;var c=bt.I[o],h=Math.floor(c.thumbImg().width/c.thumbImg().height*l[r]);0==s&&bt.O.thumbnailFeatured&&(h=2*h,u=1==l.length?2*parseInt(l[0]):parseInt(l[0])+parseInt(l[1])+bt.tn.borderHeight+bt.tn.imgcBorderHeight),o==i[r]&&(i.length!=r+1?h=e-a-bt.tn.borderWidth-bt.tn.imgcBorderWidth:a+h+bt.tn.borderWidth+bt.tn.imgcBorderWidth+m>e&&(h=e-a-bt.tn.borderWidth-bt.tn.imgcBorderWidth));var b=0;0==s&&bt.O.thumbnailFeatured||(b=l[r]),b=parseInt(b),h=parseInt(h),t.width(h+bt.tn.imgcBorderWidth).height(b+bt.tn.imgcBorderHeight+bt.tn.labelHeight.get()),c.$getElt(".imgContainer").height(b).width(h),t.find("img").css({"max-height":b+2,"max-width":h+2}),t.find(".subcontainer").width(h+bt.tn.imgcBorderWidth).height(b+bt.tn.imgcBorderHeight+bt.tn.labelHeight.get());var p=a;bt.O.RTL&&(p=e-a-(h+bt.tn.borderWidth+bt.tn.imgcBorderWidth)),
t.css({top:n,left:p}),c.thumbFullWidth=h+bt.tn.borderWidth+bt.tn.imgcBorderWidth,c.thumbFullHeight=b+bt.tn.borderHeight+bt.tn.imgcBorderHeight+bt.tn.labelHeight.get(),Le(t),oe(t,c,s),a+=h+bt.tn.borderWidth+bt.tn.imgcBorderWidth+m,o==i[r]&&(n+=l[r]+bt.tn.labelHeight.get()+d+bt.tn.imgcBorderHeight+bt.tn.borderHeight,r++,a=0,1==r&&g>0&&(a=g,g=0)),s++}}),r>0&&(n-=d),u=u+bt.tn.outerHeight.get()+bt.tn.labelHeight.get(),bt.$E.conTn.width(e).height(n>u?n:u)}function re(){var e=bt.tn.settings.getW()+bt.tn.borderWidth+bt.tn.imgcBorderWidth,t=bt.$E.conTnParent.width(),a=0;return a="justified"==bt.O.thumbnailAlignment?Math.floor(t/e):Math.floor((t+bt.O.thumbnailGutterWidth)/(e+bt.O.thumbnailGutterWidth)),bt.O.maxItemsPerLine>0&&a>bt.O.maxItemsPerLine&&(a=bt.O.maxItemsPerLine),1>a&&(a=1),a}function le(){var e=0,t=0,a=0,n=bt.O.thumbnailGutterHeight,i=bt.$E.conTnParent.width(),r=re(),l=0,o=0,s=0,u=[],c=0;bt.L.nbMaxTnPerRow=re();var g=new Date;if(bt.pgMaxLinesPerPage>0&&bt.tn.outerWidth.get()>0&&r!=bt.pgMaxNbThumbnailsPerRow){bt.pgMaxNbThumbnailsPerRow=r;var m=bt.$E.conPagin.data("galleryIdx");return void be(m,0)}var d=bt.$E.conTn.find(".nanoGalleryThumbnailContainer"),h=d.length;"justified"==bt.O.thumbnailAlignment?(r=Math.min(r,h),a=1==r?0:(i-r*bt.tn.outerWidth.get())/(r-1)):a=bt.O.thumbnailGutterWidth,bt.O.RTL&&(d.each(function(){var i=jQuery(this),l=i.data("index");if(void 0!==l){if(0!=t)return!1;e=c*(bt.tn.outerWidth.get()+a),u[c]=e,s=e,c++,c>=r&&(c=0,t+=bt.tn.outerHeight.get()+n)}}),i=s+bt.tn.outerWidth.get(),t=0,c=0);var b=[],p=0;d.each(function(){var g=jQuery(this),m=g.data("index");if(void 0!==m){p=m,0==t?(e=c*(bt.tn.outerWidth.get()+a),u[c]=e,s=e):(e=u[c],o=t);var d=e;bt.O.RTL&&(d=parseInt(i)-e-bt.tn.outerWidth.get()),b.push({$e:g,t:t,l:d,item:bt.I[m]}),c++,c>=r&&(c=0,t+=bt.tn.outerHeight.get()+n),l++}});for(var f=b.length,v=0;f>v;v++)b[v].$e.css({top:b[v].t,left:b[v].l}),oe(b[v].$e,b[v].item,v);b=[],bt.$E.conTn.width(s+bt.tn.outerWidth.get()).height(o+bt.tn.outerHeight.get()),bt.O.debugMode&&console.log("ResizeGalleryGrid: "+(new Date-g))}function oe(e,t,a){e.hasClass("nanogalleryHideElement")&&(e.removeClass("nanogalleryHideElement"),bt.O.thumbnailDisplayTransition?"function"==typeof bt.O.fnThumbnailDisplayEffect?bt.O.fnThumbnailDisplayEffect(e,t,0):setTimeout(function(){window.requestAnimationFrame(function(){se(e)})},a*bt.tn.displayInterval):e.css({opacity:1}))}function se(e){var a=new t;a.tween({from:{o:0},to:{o:1},duration:200,step:function(t){e.css({opacity:t.o})},finish:function(t){e.css({opacity:t.o})}})}function ue(e){if(bt.O.galleryToolbarWidthAligned&&void 0!==bt.$E.conNavBCon){var t=bt.$E.conTn.outerWidth(!0);bt.$E.conNavBCon.width()<t?bt.$E.conNavBCon.width(t):bt.$E.conNavBCon.width(t)}}function ce(){var e=bt.$E.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return gt(jQuery(this),bt.tn.lazyLoadTreshold)});jQuery(e).each(function(){var e=jQuery(this).find("img");if(e.attr("src")==bt.emptyGif){var t=jQuery(this).data("index");if(void 0==t||void 0==bt.I[t])return;e.attr("src",""),e.attr("src",bt.I[t].thumbImg().src)}})}function ge(t,a){if(void 0!=bt.$E.conPagin){if(bt.$E.conPagin.children().remove(),0==bt.pgMaxLinesPerPage||"auto"==bt.tn.settings.getH()||"auto"==bt.tn.settings.getW())return void bt.$E.conPagin.hide();bt.$E.conPagin.show(),bt.$E.conPagin.data("galleryIdx",t),bt.$E.conPagin.data("currentPageNumber",a);var n=0,i=0;if(!bt.O.paginationDots&&a>0){var r=jQuery('<div class="paginationPrev">'+(bt.O.paginationDots?"":bt.i18nTranslations.paginationPrevious)+"</div>").appendTo(bt.$E.conPagin);i+=jQuery(r).outerWidth(!0),r.click(function(e){de()})}var l=0;if(bt.pgMaxLinesPerPage>0&&"auto"!=bt.tn.settings.getH()&&"auto"!=bt.tn.settings.getW()&&(n=Math.ceil(bt.I[t].contentLength/(bt.pgMaxLinesPerPage*bt.pgMaxNbThumbnailsPerRow))),bt.O.paginationDots?l=0:a>=5?(l=a-5,n>a+6&&(n=a+6)):n>10&&(n=10),1==n)return void bt.$E.conPagin.hide();for(var o=l;n>o;o++){var s="";o==a&&(s=" currentPage");var u=jQuery('<div class="paginationItem'+s+'">'+(bt.O.paginationDots?"":o+1)+"</div>").appendTo(bt.$E.conPagin);u.data("pageNumber",o),i+=u.outerWidth(!0),u.click(function(t){var a=bt.$E.conPagin.data("galleryIdx"),n=jQuery(this).data("pageNumber");mt(bt.$E.base,0)||e("html, body").animate({scrollTop:bt.$E.base.offset().top},200),be(a,n)})}if(!bt.O.paginationDots&&n>a+1){var c=jQuery('<div class="paginationNext">'+(bt.O.paginationDots?"":bt.i18nTranslations.paginationNext)+"</div>").appendTo(bt.$E.conPagin);i+=c.outerWidth(!0),c.click(function(e){me()})}bt.$E.conPagin.width(i)}}function me(){var t=bt.$E.conPagin.data("galleryIdx"),a=0;bt.pgMaxLinesPerPage>0&&(a=bt.I[t].contentLength/(bt.pgMaxLinesPerPage*bt.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(a);var n=bt.$E.conPagin.data("currentPageNumber");n<n2-1?n++:n=0,mt(bt.$E.base,0)||e("html, body").animate({scrollTop:bt.$E.base.offset().top},200),be(t,n)}function de(){var t=bt.$E.conPagin.data("galleryIdx"),a=0;bt.pgMaxLinesPerPage>0&&(a=bt.I[t].contentLength/(bt.pgMaxLinesPerPage*bt.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(a);var n=bt.$E.conPagin.data("currentPageNumber");n>0?n--:n=n2-1,mt(bt.$E.base,0)||e("html, body").animate({scrollTop:bt.$E.base.offset().top},250),be(t,n)}function he(e){var t=bt.I.length,a=0,n=e||bt.GetCurrentViewedItemIdx();if(-1!==n){for(var i=0;t>i;i++)bt.I[i].albumID==bt.I[n].albumID&&"image"==bt.I[i].kind&&a++;return a}return 0}function be(e,a){bt.curAlbumIdx=-1,void 0==bt.$E.conPagin&&bt.$E.conPagin.children().remove();var n=bt.$E.conTn.parent(),i=new t;i.tween({to:{opacity:0},from:{opacity:1},attachment:{$e:n},duration:150,step:function(e,t){t.$e.css(e)},finish:function(t,n){n.$e.css({opacity:0}),bt.containerThumbnailsDisplayed=!1,bt.$E.conTn.hide(0).off().show(0).html("");for(var i=bt.I.length,r=0;i>r;r++)bt.I[r].$Elts=[],bt.I[r].$elt=null,bt.I[r].hoverInitDone=!1,bt.I[r].hovered=!1;bt.$E.conTnParent.css({left:0,opacity:1}),g(bt.$E.conTn[0],0),pe(e,a,fe)}})}function pe(e,t,a){if(bt.O.debugMode&&console.timeline&&console.timeline("nanoGALLERY"),bt.startDateTime=new Date,-1!=e&&void 0!=bt.I[e]){bt.I[e].paginationLastPage=t,bt.I[e].paginationLastWidth=bt.$E.conTnParent.width();var n=bt.I.length,i=!1;bt.galleryItemsCount=0;var r=0,l=0,o=0;bt.pgMaxLinesPerPage>0&&"auto"!=bt.tn.settings.getH()&&"auto"!=bt.tn.settings.getW()&&(l=t*bt.pgMaxLinesPerPage*bt.pgMaxNbThumbnailsPerRow,o=l+bt.pgMaxLinesPerPage*bt.pgMaxNbThumbnailsPerRow),ee();var s=!1,u=!1,c=0;!function(){bt.toRender=[];for(var o=0;o<bt.O.galleryRenderStep;o++){if(c>=n)return void a(e,t);var g=bt.I[c];if(g.albumID==bt.I[e].GetID()){if(r++,bt.pgMaxLinesPerPage>0&&"auto"!=bt.tn.settings.getH()&&"auto"!=bt.tn.settings.getW()&&bt.galleryItemsCount+1>bt.pgMaxLinesPerPage*bt.pgMaxNbThumbnailsPerRow)return void a(e,t);if(r>l){bt.galleryItemsCount++;var m=ve(g,c,i),d=m.e$;bt.O.thumbnailLazyLoad&&!m.cIS&&(s||(gt(d,bt.tn.lazyLoadTreshold)?(g.$getElt("img").attr("src",""),g.$getElt("img").attr("src",g.thumbImg().src),u=!0):u&&(s=!0)))}}c++}var h=bt.toRender.length;if(h>0)for(var o=0;h>o;o++);n>c?setTimeout(arguments.callee,2):a(e,t)}()}}function fe(e,t){ae(),ge(e,t),bt.containerThumbnailsDisplayed=!0,bt.curAlbumIdx=e,"function"==typeof bt.O.fnInitGallery&&bt.O.fnInitGallery(e,t),bt.O.debugMode&&console.timeline&&(console.log("End-render: "+(new Date-bt.startDateTime)),console.timelineEnd("nanoGALLERY")),bt.SetSelectMode()}function ve(e,t,a){var n=[],i=0;e.$Elts=[];var r="",o=" nanogalleryHideElement";bt.O.thumbnailLazyLoad&&"auto"==bt.tn.settings.getW()&&(r="top:0px;left:0px;"),n[i++]='<div class="nanoGalleryThumbnailContainer'+o+' nGEvent" style="display:block;opacity:0;'+r+'" ><div class="subcontainer nGEvent" style="display:block;">';var s=!1,u=bt.emptyGif;("auto"==bt.tn.settings.getH()&&0==bt.I[t].thumbImg().height||"auto"==bt.tn.settings.getW()&&0==bt.I[t].thumbImg().width)&&(s=!0),(!bt.O.thumbnailLazyLoad||s)&&(u=e.thumbImg().src);var c=ye(e),g=Ie(e);if("auto"==bt.tn.settings.getH()?n[i++]='<div class="imgContainer nGEvent" style="width:'+bt.tn.settings.getW()+'px;"><img class="image nGEvent" src="'+u+'" alt="'+c+'" style="max-width:'+bt.tn.settings.getW()+'px;"></div>':"auto"==bt.tn.settings.getW()?n[i++]='<div class="imgContainer nGEvent" style="height:'+bt.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+u+'" alt="'+c+'" style="max-height:'+bt.tn.settings.getH()+'px;" ></div>':n[i++]='<div class="imgContainer nGEvent" style="width:'+bt.tn.settings.getW()+"px;height:"+bt.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+u+'" alt="'+c+'" style="max-width:'+bt.tn.settings.getW()+"px;max-height:"+bt.tn.settings.getH()+'px;" ></div>',"album"==e.kind){if(1==bt.O.thumbnailLabel.get("display")){if(e.contentLength>0)switch(bt.O.thumbnailLabel.get("itemsCount")){case"title":c+=" "+bt.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+e.contentLength+"</span>"+bt.i18nTranslations.thumbnailLabelItemsCountPart2;break;case"description":g+=" "+bt.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+e.contentLength+"</span>"+bt.i18nTranslations.thumbnailLabelItemsCountPart2}n[i++]='<div class="labelImage nGEvent" style="width:'+bt.tn.settings.getW()+"px;"+(bt.O.RTL?"direction:RTL;":"")+("l1"==bt.curNavLevel?bt.tn.styleL1LabelImage:bt.tn.styleLabelImage)+'"><div class="labelFolderTitle labelTitle nGEvent" style="'+("l1"==bt.curNavLevel?bt.tn.styleL1FTitle:bt.tn.styleFTitle)+'">'+c+'</div><div class="labelDescription nGEvent" style="'+("l1"==bt.curNavLevel?bt.tn.styleL1Desc:bt.tn.styleDesc)+'">'+g+"</div></div>"}}else 1==bt.O.thumbnailLabel.get("display")&&(a&&0==g.length&&"onBottom"==bt.O.thumbnailLabel.get("position")&&(g="&nbsp;"),n[i++]='<div class="labelImage nGEvent" style="width:'+bt.tn.settings.getW()+"px;"+(bt.O.RTL?"direction:RTL;":"")+("l1"==bt.curNavLevel?bt.tn.styleL1LabelImage:bt.tn.styleLabelImage)+'"><div class="labelImageTitle labelTitle nGEvent" style="'+("l1"==bt.curNavLevel?bt.tn.styleL1ITitle:bt.tn.styleITitle)+'">'+c+'</div><div class="labelDescription nGEvent" style="'+("l1"==bt.curNavLevel?bt.tn.styleL1Desc:bt.tn.styleDesc)+'">'+g+"</div></div>");if(n[i++]="</div>",bt.O.itemsSelectable){if(e.selected=!1,bt.O.keepSelection===!0)for(it in bt.selectedItems)bt.selectedItems[it].GetID()===e.GetID()&&(e.selected=!0);bt.O.showCheckboxes&&(checked="",e.selected&&(checked="checked"),n[i++]='<input class="ngChekbox" type="checkbox" '+checked+' style="position:absolute;z-index:999;'+bt.O.checkboxStyle+'">')}n[i++]="</div>";var m=jQuery(n.join("")).appendTo(bt.$E.conTnHid);"undefined"!=typeof e.selected&&e.selected===!0&&m.find(".subcontainer").addClass("selected"),e.$elt=m,m.data("index",t),e.$getElt("img").data("index",t),"function"==typeof bt.O.fnThumbnailInit&&bt.O.fnThumbnailInit(m,e,l());var d=m.detach();if(d.appendTo(bt.$E.conTn),s){var h=ngimagesLoaded(m);h.on("always",function(e){var t=bt.I[jQuery(e.images[0].img).data("index")];if(void 0!=t&&e.images[0].img.src!=bt.emptyGif){var a=!1;t.thumbImg().height!=e.images[0].img.naturalHeight&&(t.thumbSetImgHeight(e.images[0].img.naturalHeight),t.thumbSetImgWidth(e.images[0].img.naturalWidth),a=!0),t.thumbImg().width!=e.images[0].img.naturalWidth&&(t.thumbSetImgHeight(e.images[0].img.naturalHeight),t.thumbSetImgWidth(e.images[0].img.naturalWidth),a=!0),a&&(ke(t.$elt),xe(t.$elt,t),Le(t.$elt),ae())}})}else ke(m),xe(m,e),Le(m);return{e$:m,cIS:s}}function ye(e){var t=e.title;return 1==bt.O.thumbnailLabel.get("display")&&((void 0===t||0==t.length)&&(t="&nbsp;"),""!=bt.i18nTranslations.thumbnailImageTitle&&(t=bt.i18nTranslations.thumbnailImageTitle),bt.O.thumbnailLabel.get("titleMaxLength")>3&&t.length>bt.O.thumbnailLabel.get("titleMaxLength")&&(t=t.substring(0,bt.O.thumbnailLabel.get("titleMaxLength"))+"...")),t}function Ie(e){var t="";return 1==bt.O.thumbnailLabel.get("displayDescription")&&(t="album"==e.kind?""!=bt.i18nTranslations.thumbnailImageDescription?bt.i18nTranslations.thumbnailAlbumDescription:e.description:""!=bt.i18nTranslations.thumbnailImageDescription?bt.i18nTranslations.thumbnailImageDescription:e.description,bt.O.thumbnailLabel.get("descriptionMaxLength")>3&&t.length>bt.O.thumbnailLabel.get("descriptionMaxLength")&&(t=t.substring(0,bt.O.thumbnailLabel.get("descriptionMaxLength"))+"...")),t}function we(e,t,a){var n=e.$elt,i=n.find("input[type=checkbox]");"image"!==bt.selectMode&&"album"!==bt.selectMode||e.kind===bt.selectMode?("undefined"==typeof t?e.selected=!e.selected:e.selected=t,a!==!1&&i.prop("checked",e.selected),e.selected?e.$getElt(".subcontainer").addClass("selected"):e.$getElt(".subcontainer").removeClass("selected")):(e.selected=!1,i.prop("checked",!1),e.$getElt(".subcontainer").removeClass("selected")),Ee(),"function"==typeof bt.O.fnThumbnailSelection&&bt.O.fnThumbnailSelection(n,e)}function Ee(){var e;bt.O.keepSelection===!0&&(e=bt.selectedItems.slice(0)),bt.selectedItems=[];for(var t=bt.I.length,a=0;t>a;a++)bt.I[a].selected===!0&&bt.selectedItems.push(bt.I[a]);if(bt.O.keepSelection===!0){for(a in e){alreadyExists=!1;for(var n=0;t>n;n++)bt.I[n].GetID()===e[a].GetID()&&(alreadyExists=!0);alreadyExists===!1&&bt.selectedItems.push(e[a])}e=[]}bt.selectedItems.length>0||1==bt.selectModeForce?(bt.I.forEach(function(e){null===e.$elt||e.$elt.hasClass("selectable")||(1==bt.selectModeForce&&e.kind===bt.selectMode||1==bt.selectMode)&&e.$elt.addClass("selectable")}),bt.selectMode!==!0&&"image"!==bt.selectMode&&"album"!==bt.selectMode&&(bt.selectMode=!0)):(bt.I.forEach(function(e){null!==e.$elt&&e.$elt.removeClass("selectable")}),bt.selectMode=!1),"function"==typeof bt.O.fnChangeSelectMode&&bt.O.fnChangeSelectMode(bt.selectMode)}function xe(e,t){if("auto"==bt.tn.settings.getH()){if(t.thumbImg().height>0){var a=t.thumbImg().height/t.thumbImg().width;t.$getElt(".imgContainer").height(bt.tn.settings.getW()*a),"onBottom"==bt.O.thumbnailLabel.get("position")?(t.thumbLabelHeight=t.$getElt(".labelImage").outerHeight(!0),t.thumbFullHeight=bt.tn.settings.getW()*a+t.thumbLabelHeight+bt.tn.borderHeight+bt.tn.imgcBorderHeight,e.width(bt.tn.outerWidth.get()-bt.tn.borderWidth).height(t.thumbFullHeight-bt.tn.borderHeight),t.$getElt(".labelImage").css({position:"absolute",top:"",bottom:"0px"})):(t.thumbFullHeight=bt.tn.settings.getW()*a+t.thumbLabelHeight+bt.tn.borderHeight+bt.tn.imgcBorderHeight,e.width(bt.tn.outerWidth.get()-bt.tn.borderWidth).height(t.thumbFullHeight-bt.tn.borderHeight))}t.thumbFullWidth=bt.tn.outerWidth.get(),t.$getElt(".subcontainer").width(bt.tn.outerWidth.get()-bt.tn.borderWidth).height(t.thumbFullHeight-bt.tn.borderHeight)}else if("auto"==bt.tn.settings.getW()){return;var a}else t.thumbFullHeight=bt.tn.outerHeight.get(),t.thumbFullWidth=bt.tn.outerWidth.get(),"onBottom"==bt.O.thumbnailLabel.get("position")?e.width(t.thumbFullWidth-bt.tn.borderWidth).height(t.thumbFullHeight-bt.tn.borderHeight):e.width(t.thumbFullWidth-bt.tn.borderWidth).height(t.thumbFullHeight-bt.tn.borderHeight),t.$getElt(".subcontainer").width(t.thumbFullWidth-bt.tn.borderWidth).height(t.thumbFullHeight-bt.tn.borderHeight)}function Ce(){for(var e=bt.I.length,t=0;e>t;t++)bt.I[t].hovered&&Ge(bt.I[t].$elt)}function ke(e){var t=e.data("index");if(void 0!=t){var a=bt.I[t];for("function"==typeof bt.O.fnThumbnailHoverInit&&bt.O.fnThumbnailHoverInit(e,a,l()),Oe(a),j=0;j<bt.tn.getHE().length;j++)switch(bt.tn.getHE()[j].name){case"imageSplit4":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage"),r=a.$getElt(".imgContainer");r.css({position:"absolute"}),n.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"}),n.prepend(r.clone()),n.prepend(a.$getElt(".imgContainer",!0).clone()),r=a.$getElt(".imgContainer",!0),dt("",r),$e(a,"imgContainer0",r.eq(0)),De(a,"imgContainer0"),$e(a,"imgContainer1",r.eq(1)),De(a,"imgContainer1"),$e(a,"imgContainer2",r.eq(2)),De(a,"imgContainer2"),$e(a,"imgContainer3",r.eq(3)),De(a,"imgContainer3");break;case"imageSplitVert":var n=a.$getElt(".subcontainer"),r=a.$getElt(".imgContainer");r.css({position:"absolute"}),n.css({overflow:"hidden",position:"relative"}),n.prepend(r.clone()),r=a.$getElt(".imgContainer",!0),dt("",r),$e(a,"imgContainer0",r.eq(0)),De(a,"imgContainer0"),$e(a,"imgContainer1",r.eq(1)),De(a,"imgContainer1");break;case"labelSplit4":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage").css({top:0,bottom:0});n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),a.$getElt(".labelImage",!0).clone().appendTo(n),i=a.$getElt(".labelImage",!0),$e(a,"labelImage0",i.eq(0)),De(a,"labelImage0"),$e(a,"labelImage1",i.eq(1)),De(a,"labelImage1"),$e(a,"labelImage2",i.eq(2)),De(a,"labelImage2"),$e(a,"labelImage3",i.eq(3)),De(a,"labelImage3");break;case"labelSplitVert":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage");n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),i=a.$getElt(".labelImage",!0),$e(a,"labelImage0",i.eq(0)),De(a,"labelImage0"),$e(a,"labelImage1",i.eq(1)),De(a,"labelImage1");break;case"labelAppearSplit4":var n=a.$getElt(".subcontainer");i=a.$getElt(".labelImage"),i.css({left:0,top:0,right:0,bottom:0}),n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),a.$getElt(".labelImage",!0).clone().appendTo(n),i=a.$getElt(".labelImage",!0);var o=$e(a,"labelImage0",i.eq(0));o.translateX=-a.thumbFullWidth/2,o.translateY=-a.thumbFullHeight/2,De(a,"labelImage0"),o=$e(a,"labelImage1",i.eq(1)),o.translateX=a.thumbFullWidth/2,o.translateY=-a.thumbFullHeight/2,De(a,"labelImage1"),o=$e(a,"labelImage2",i.eq(2)),o.translateX=a.thumbFullWidth/2,o.translateY=a.thumbFullHeight/2,De(a,"labelImage2"),o=$e(a,"labelImage3",i.eq(3)),o.translateX=-a.thumbFullWidth/2,o.translateY=a.thumbFullHeight/2,De(a,"labelImage3");break;case"labelAppearSplitVert":var n=a.$getElt(".subcontainer"),i=a.$getElt(".labelImage");n.css({overflow:"hidden",position:"relative"}),i.clone().appendTo(n),i=a.$getElt(".labelImage",!0),$e(a,"labelImage0",i.eq(0)).translateX=-a.thumbFullWidth/2,De(a,"labelImage0"),$e(a,"labelImage1",i.eq(1)).translateX=a.thumbFullWidth/2,De(a,"labelImage1");break;case"imageScale150Outside":bt.$E.base.css({overflow:"visible"}),bt.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),a.$getElt(".subcontainer").css({overflow:"visible"}),a.$getElt(".imgContainer").css({overflow:"visible"}),$e(a,"img0",a.$getElt("img")),De(a,"img0"),dt(a.$getElt(".imgContainer"),a.$getElt(".labelImage"));break;case"scale120":bt.$E.base.hasClass("fullpage")||bt.$E.base.css({overflow:"visible"}),bt.$E.conTn.css({overflow:"visible"}),$e(a,"base",e),De(a,"base");break;case"scaleLabelOverImage":var s=a.$getElt(".imgContainer"),u=a.$getElt(".labelImage");dt(s,u),u.css({opacity:0}),$e(a,"labelImage0",u).scale=50,De(a,"labelImage0"),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"overScale":e.css({overflow:"hidden"});var s=a.$getElt(".imgContainer"),u=a.$getElt(".labelImage");dt("",u),u.css({opacity:0}),s.css({opacity:1}),$e(a,"labelImage0",u).scale=150,De(a,"labelImage0"),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"overScaleOutside":bt.$E.base.hasClass("fullpage")||bt.$E.base.css({overflow:"visible"}),bt.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"});var s=a.$getElt(".imgContainer"),u=a.$getElt(".labelImage");dt("",u),u.css({opacity:0}),s.css({opacity:1}),$e(a,"labelImage0",u).scale=150,De(a,"labelImage0"),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"rotateCornerBL":e.css({overflow:"hidden"});var s=a.$getElt(".labelImage");s.css({opacity:1}),s[0].style[bt.CSStransformName+"Origin"]="100% 100%",$e(a,"labelImage0",s).rotateZ=-90,De(a,"labelImage0"),s=a.$getElt(".imgContainer"),s[0].style[bt.CSStransformName+"Origin"]="100% 100%",$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"rotateCornerBR":e.css({overflow:"hidden"});var s=a.$getElt(".labelImage");s.css({opacity:1}),s[0].style[bt.CSStransformName+"Origin"]="0% 100%",$e(a,"labelImage0",s).rotateZ=90,De(a,"labelImage0"),s=a.$getElt(".imgContainer"),s[0].style[bt.CSStransformName+"Origin"]="0 100%",$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"imageRotateCornerBL":var s=a.$getElt(".imgContainer");dt(e,s),e.css({overflow:"hidden"}),a.$getElt(".labelImage").css({opacity:1}),s[0].style[bt.CSStransformName+"Origin"]="bottom right",$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"imageRotateCornerBR":var s=a.$getElt(".imgContainer");dt(e,s),e.css({overflow:"hidden"}),a.$getElt(".labelImage").css({opacity:1}),s[0].style[bt.CSStransformName+"Origin"]="0 100%",$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"slideUp":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),$e(a,"labelImage0",s).translateY=a.thumbFullHeight,De(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"slideDown":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),$e(a,"labelImage0",s).translateY=-a.thumbFullHeight,De(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"slideRight":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),$e(a,"labelImage0",s).translateX=-a.thumbFullWidth,De(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"slideLeft":e.css({overflow:"hidden"}),s=a.$getElt(".labelImage"),s.css({opacity:1,top:0}),$e(a,"labelImage0",s).translateX=a.thumbFullWidth,De(a,"labelImage0"),s=a.$getElt(".imgContainer"),s.css({left:0,top:0}),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":s=a.$getElt(".imgContainer"),dt(e,s),e.css({overflow:"visible"}),a.$getElt(".labelImage").css({opacity:1}),s.css({left:0,top:0}),$e(a,"imgContainer0",s),De(a,"imgContainer0");break;case"labelAppear":case"labelAppear75":var c="rgb("+bt.custGlobals.oldLabelRed+","+bt.custGlobals.oldLabelGreen+","+bt.custGlobals.oldLabelBlue+",0.01)";a.$getElt(".labelImage").css({backgroundColor:c}),"album"==a.kind?a.$getElt(".labelFolderTitle").css({opacity:0}):a.$getElt(".labelImageTitle").css({opacity:0}),a.$getElt(".labelDescription").css({opacity:0});break;case"descriptionAppear":a.$getElt(".labelDescription").css({opacity:0});break;case"labelSlideUpTop":e.css({overflow:"hidden"}),a.$getElt(".labelImage").css({top:0,bottom:0}),$e(a,"labelImage0",a.$getElt(".labelImage")).translateY=a.thumbFullHeight,De(a,"labelImage0");break;case"labelSlideUp":e.css({overflow:"hidden"}),$e(a,"labelImage0",a.$getElt(".labelImage")).translateY=a.thumbFullHeight,De(a,"labelImage0");break;case"labelSlideDown":e.css({overflow:"hidden"}),$e(a,"labelImage0",a.$getElt(".labelImage")).translateY=-a.thumbFullHeight,De(a,"labelImage0");break;case"descriptionSlideUp":e.css({overflow:"hidden"});var g="album"==a.kind?a.$getElt(".labelFolderTitle").outerHeight(!0):a.$getElt(".labelImageTitle").outerHeight(!0);a.$getElt(".labelDescription").css({opacity:0}),a.$getElt(".labelImage").css({height:g}),$e(a,"labelImage0",a.$getElt(".labelImage")),De(a,"labelImage0");break;case"imageExplode":dt("",e),dt(a.$getElt(".labelImage"),a.$getElt(".imgContainer"));for(var n=a.$getElt(".subcontainer"),t=7,r=(a.thumbFullHeight,a.$getElt(".imgContainer")),m=r.outerWidth(!0)/t,d=r.outerHeight(!0),d=r.outerHeight(!0)/t,h=0;t>h;h++)for(var c=0;t>c;c++){var b="rect("+d*h+"px, "+m*(c+1)+"px, "+d*(h+1)+"px, "+m*c+"px)";r.clone().appendTo(n).css({top:0,scale:1,clip:b,left:0,position:"absolute"}).data("ngScale",1)}r.remove();break;case"imageFlipHorizontal":switch(bt.O.thumbnailLabel.get("position")){case"overImageOnTop":a.$getElt(".labelImage").css({top:-bt.tn.imgcBorderHeight/2,bottom:bt.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":a.$getElt(".labelImage").css({top:-bt.tn.imgcBorderHeight/2,bottom:bt.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:a.$getElt(".labelImage").css({bottom:bt.tn.imgcBorderWidth/2,left:0,right:0})}bt.$E.base.hasClass("fullpage")||bt.$E.base.css({overflow:"visible"}),bt.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),dt("",e),dt(a.$getElt(".labelImage"),a.$getElt(".imgContainer"));var s=a.$getElt(".subcontainer");s.css({overflow:"visible"}),s[0].style[bt.CSStransformStyle]="preserve-3d";var t=Math.round(1.2*a.thumbFullHeight)+"px";s[0].style[bt.CSSperspective]=t,s=a.$getElt(".imgContainer"),s[0].style[bt.CSSbackfaceVisibilityName]="hidden",$e(a,"imgContainer0",s),De(a,"imgContainer0"),e.find(".image")[0].style[bt.CSSbackfaceVisibilityName]="hidden",s=a.$getElt(".labelImage"),s[0].style[bt.CSSbackfaceVisibilityName]="hidden",$e(a,"labelImage0",s).rotateX=180,De(a,"labelImage0");break;case"imageFlipVertical":switch(bt.O.thumbnailLabel.get("position")){case"overImageOnTop":a.$getElt(".labelImage").css({top:-bt.tn.imgcBorderHeight/2,bottom:bt.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":a.$getElt(".labelImage").css({top:-bt.tn.imgcBorderHeight/2,bottom:bt.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:a.$getElt(".labelImage").css({bottom:bt.tn.imgcBorderWidth/2,left:0,right:0})}bt.$E.base.hasClass("fullpage")||bt.$E.base.css({overflow:"visible"}),bt.$E.conTn.css({overflow:"visible"}),e.css({overflow:"visible"}),dt("",e),dt(a.$getElt(".labelImage"),a.$getElt(".imgContainer"));var s=a.$getElt(".subcontainer");s.css({overflow:"visible"}),s[0].style[bt.CSStransformStyle]="preserve-3d";var t=Math.round(1.2*a.thumbFullWidth)+"px";s[0].style[bt.CSSperspective]=t,s=a.$getElt(".imgContainer"),s[0].style[bt.CSSbackfaceVisibilityName]="hidden",$e(a,"imgContainer0",s),De(a,"imgContainer0"),e.find(".image")[0].style[bt.CSSbackfaceVisibilityName]="hidden",s=a.$getElt(".labelImage"),s[0].style[bt.CSSbackfaceVisibilityName]="hidden",$e(a,"labelImage0",s).rotateY=180,De(a,"labelImage0");break;case"imageScale150":e.css({overflow:"hidden"}),$e(a,"img0",a.$getElt("img")),De(a,"img0");break;case"imageScaleIn80":e.css({overflow:"hidden"}),$e(a,"img0",a.$getElt("img")).scale=120,De(a,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":e.css({overflow:"hidden"}),a.customData.hoverEffectRDir=bt.tn.getHE()[j].name,Se(e,a);break;case"imageSlide2Random":e.css({overflow:"hidden"});var p=["imageSlide2Up","imageSlide2Down","imageSlide2Left","imageSlide2Left","imageSlide2UpRight","imageSlide2UpLeft","imageSlide2DownRight","imageSlide2DownLeft"];a.customData.hoverEffectRDir=p[Math.floor(Math.random()*p.length)],Se(e,a)}a.hoverInitDone=!0}}function Se(e,t){var a=t.thumbFullWidth,n=t.thumbFullHeight,i=$e(t,"img0",t.$getElt("img"));switch(i.scale=140,t.customData.hoverEffectRDir){case"imageSlide2Up":i.translateY=t.thumbFullHeight<1.4*t.thumbImg().height?(1.4*t.thumbImg().height-t.thumbFullHeight)/2:0,i.translateX=t.thumbFullWidth<1.4*t.thumbImg().width?-(1.4*t.thumbImg().width-t.thumbFullWidth)/2:0;break;case"imageSlide2Down":var r=t.thumbFullHeight<1.4*t.thumbImg().height?Math.min((1.4*t.thumbImg().height-t.thumbFullHeight)/2*.1,.1*n):0;i.translateY=-r;var l=t.thumbFullWidth<1.4*t.thumbImg().width?Math.min((1.4*t.thumbImg().width-t.thumbFullWidth)/2*.1,.1*a):0;i.translateX=l;break;case"imageSlide2Left":i.translateY=.1*-n,i.translateX=.1*a;break;case"imageSlide2Right":i.translateY=.1*-n,i.translateX=.1*-a;break;case"imageSlide2UpRight":i.translateY=.05*n,i.translateX=.05*-a;break;case"imageSlide2UpLeft":i.translateY=.05*n,i.translateX=.05*a;break;case"imageSlide2DownRight":i.translateY=.05*-n,i.translateX=.05*-a;break;case"imageSlide2DownLeft":i.translateY=.05*-n,i.translateX=.05*a}De(t,"img0")}function Le(e){var t=e.data("index");if(void 0!=t){var a=bt.I[t];if(!a.hoverInitDone)return void ke(e);for("function"==typeof bt.O.fnThumbnailHoverResize&&bt.O.fnThumbnailHoverResize(e,a,l()),j=0;j<bt.tn.getHE().length;j++)switch(bt.tn.getHE()[j].name){case"imageSplit4":var n=a.thumbFullWidth-bt.tn.borderWidth-bt.tn.imgcBorderWidth,i=a.thumbFullHeight-bt.tn.borderHeight-bt.tn.imgcBorderHeight,r=a.$getElt(".imgContainer"),o="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)";r.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",r.eq(1).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",r.eq(2).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",r.eq(3).css({clip:o});break;case"imageSplitVert":var r=a.$getElt(".imgContainer"),n=a.thumbFullWidth-bt.tn.borderWidth-bt.tn.imgcBorderWidth,i=a.thumbFullHeight-bt.tn.borderHeight-bt.tn.imgcBorderHeight,o="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";r.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",r.eq(1).css({clip:o});break;case"labelSplit4":var n=a.thumbFullWidth-bt.tn.borderWidth-bt.tn.imgcBorderWidth,i=a.thumbFullHeight-bt.tn.borderHeight-bt.tn.imgcBorderHeight,s=a.$getElt(".labelImage");o="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)",s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(2).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",s.eq(3).css({clip:o});break;case"labelSplitVert":var n=a.thumbFullWidth-bt.tn.borderWidth-bt.tn.imgcBorderWidth,i=a.thumbFullHeight-bt.tn.borderHeight-bt.tn.imgcBorderHeight,s=a.$getElt(".labelImage"),o="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o});break;case"labelAppearSplit4":var n=a.thumbFullWidth-bt.tn.borderWidth-bt.tn.imgcBorderWidth,i=a.thumbFullHeight-bt.tn.borderHeight-bt.tn.imgcBorderHeight;s=a.$getElt(".labelImage");var o="rect(0px, "+Math.ceil(n/2)+"px, "+Math.ceil(i/2)+"px, 0px)";s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(2).css({clip:o}),o="rect("+Math.ceil(i/2)+"px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)",s.eq(3).css({clip:o}),a.eltTransform.labelImage0.translateX=-a.thumbFullWidth/2,a.eltTransform.labelImage0.translateY=-a.thumbFullHeight/2,De(a,"labelImage0"),a.eltTransform.labelImage1.translateX=a.thumbFullWidth/2,a.eltTransform.labelImage1.translateY=-a.thumbFullHeight/2,De(a,"labelImage1"),a.eltTransform.labelImage2.translateX=a.thumbFullWidth/2,a.eltTransform.labelImage2.translateY=a.thumbFullHeight/2,De(a,"labelImage2"),a.eltTransform.labelImage3.translateX=-a.thumbFullWidth/2,a.eltTransform.labelImage3.translateY=a.thumbFullHeight/2,De(a,"labelImage3");break;case"labelAppearSplitVert":var n=a.thumbFullWidth-bt.tn.borderWidth-bt.tn.imgcBorderWidth,i=a.thumbFullHeight-bt.tn.borderHeight-bt.tn.imgcBorderHeight;s=a.$getElt(".labelImage");var o="rect(0px, "+Math.ceil(n/2)+"px, "+i+"px, 0px)";s.eq(0).css({clip:o}),o="rect(0px, "+n+"px, "+i+"px, "+Math.ceil(n/2)+"px)",s.eq(1).css({clip:o}),a.eltTransform.labelImage0.translateX=-a.thumbFullWidth/2,De(a,"labelImage0"),a.eltTransform.labelImage1.translateX=a.thumbFullWidth/2,De(a,"labelImage1");break;case"slideUp":a.eltTransform.labelImage0.translateY=a.thumbFullHeight,De(a,"labelImage0");break;case"slideDown":a.eltTransform.labelImage0.translateY=-a.thumbFullHeight,De(a,"labelImage0");break;case"slideRight":a.eltTransform.labelImage0.translateX=-a.thumbFullWidth,De(a,"labelImage0");break;case"slideLeft":a.eltTransform.labelImage0.translateX=a.thumbFullWidth,De(a,"labelImage0");break;case"imageExplode":for(var r=(a.$getElt(".subcontainer"),a.$getElt(".imgContainer")),t=Math.sqrt(r.length),n=r.eq(0).outerWidth(!0)/t,i=r.eq(0).outerHeight(!0)/t,u=0;t>u;u++)for(var c=0;t>c;c++)var o="rect("+i*u+"px, "+n*(c+1)+"px, "+i*(u+1)+"px, "+n*c+"px)";break;case"imageFlipHorizontal":var g=a.$getElt(".subcontainer"),t=Math.round(1.2*a.thumbFullHeight)+"px";
g[0].style[bt.CSSperspective]=t;break;case"imageFlipVertical":var g=a.$getElt(".subcontainer"),t=Math.round(1.2*a.thumbFullWidth)+"px";g[0].style[bt.CSSperspective]=t;break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":Se(e,a);break;case"slideUp":a.eltTransform.labelImage0.translateY=a.thumbFullHeight,De(a,"labelImage0");break;case"slideDown":a.eltTransform.labelImage0.translateY=-a.thumbFullHeight,De(a,"labelImage0");break;case"slideRight":a.eltTransform.labelImage0.translateX=-a.thumbFullWidth,De(a,"labelImage0");break;case"slideLeft":a.eltTransform.labelImage0.translateX=a.thumbFullWidth,De(a,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":a.eltTransform.labelImage0.translateY=a.thumbFullHeight,De(a,"labelImage0");break;case"labelSlideDown":e.css({overflow:"hidden"}),a.eltTransform.labelImage0.translateY=-a.thumbFullHeight,De(a,"labelImage0");break;case"descriptionSlideUp":}}}function $e(e,t,a){return void 0==e.eltTransform[t]&&(e.eltTransform[t]=Te(),e.eltTransform[t].$elt=a),e.eltTransform[t]}function Oe(e){for(var t in e.eltTransform)delete e.eltTransform[t]}function Te(){var e={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100};return e}function De(e,t){var a=e.eltTransform[t],n="translateX("+a.translateX+"px) translateY("+a.translateY+"px) scale("+a.scale/100+")";n+=bt.IE<=9||bt.isGingerbread?" rotate("+a.rotateZ+"deg)":" rotateX("+a.rotateX+"deg) rotateY("+a.rotateY+"deg) rotateZ("+a.rotateZ+"deg)",void 0!=a.$elt[0]&&(a.$elt[0].style[bt.CSStransformName]=n)}function je(e,a,n,i,r){var l=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==bt.aengine)for(var o=0;o<l.length;o++){var s=l[o];if("undefined"!=typeof n[s]){var u=new t,c=parseInt(n[s]);u.tween({attachment:{it:i,eC:r,t:s,f:c},from:{v:parseInt(i.eltTransform[r][s])},to:{v:c},duration:bt.tn.getHE()[a].duration,delay:bt.tn.getHE()[a].delay,step:function(e,t){t.it.hovered&&(t.it.eltTransform[t.eC][t.t]=e.v,De(t.it,t.eC))},finish:function(e,t){t.it.hovered&&(t.it.eltTransform[t.eC][t.t]=t.f,De(t.it,t.eC))}}),delete n[s]}}var g=0;for(var m in n)if(n.hasOwnProperty(m)){g++;break}if(0!=g)if("transition"!=bt.aengine){var d={};for(var m in n)"borderColor"==m?d[m]=e.css("borderTopColor"):d[m]=e.css(m),"transparent"==d[m]&&(e.hasClass("labelImage")?d[m]="rgb("+bt.custGlobals.oldLabelRed+","+bt.custGlobals.oldLabelGreen+","+bt.custGlobals.oldLabelBlue+",0.01)":d[m]="rgba(0,0,0,0)");var u=new t;u.tween({attachment:{$e:e,it:i,to:n},from:d,to:n,duration:bt.tn.getHE()[a].duration,delay:bt.tn.getHE()[a].delay,step:function(e,t){t.it.hovered&&t.$e.css(e)},finish:function(e,t){t.it.hovered&&t.$e.css(n)}})}else bt.tn.getHE()[a].delay>0?e.delay(bt.tn.getHE()[a].delay)[bt.aengine](n,bt.tn.getHE()[a].duration,bt.tn.getHE()[a].easing):e[bt.aengine](n,bt.tn.getHE()[a].duration,bt.tn.getHE()[a].easing)}function Be(e){var t=e.data("index");if(void 0!=t){"velocity"==bt.aengine?e.find("*").velocity("stop",!0):e.find("*").stop(!0,!1);var a=bt.I[t];a.hovered=!0;var n="animate"==bt.aengine?1:100;"function"==typeof bt.O.fnThumbnailHover&&bt.O.fnThumbnailHover(e,a,l());try{for(j=0;j<bt.tn.getHE().length;j++)switch(bt.tn.getHE()[j].name){case"imageSplit4":var i=a.$getElt(".imgContainer");je(i.eq(0),j,{translateX:-a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"imgContainer0"),je(i.eq(1),j,{translateX:a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"imgContainer1"),je(i.eq(2),j,{translateX:a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"imgContainer2"),je(i.eq(3),j,{translateX:-a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"imgContainer3");break;case"imageSplitVert":var i=a.$getElt(".imgContainer");je(i.eq(0),j,{translateX:-a.thumbFullWidth/2},a,"imgContainer0"),je(i.eq(1),j,{translateX:a.thumbFullWidth/2},a,"imgContainer1");break;case"labelSplit4":var i=a.$getElt(".labelImage");je(i.eq(0),j,{translateX:-a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage0"),je(i.eq(1),j,{translateX:a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage1"),je(i.eq(2),j,{translateX:a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage2"),je(i.eq(3),j,{translateX:-a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage3");break;case"labelSplitVert":var i=a.$getElt(".labelImage");je(i.eq(0),j,{translateX:-a.thumbFullWidth/2},a,"labelImage0"),je(i.eq(1),j,{translateX:a.thumbFullWidth/2},a,"labelImage1");break;case"labelAppearSplit4":var i=a.$getElt(".labelImage");je(i.eq(0),j,{translateX:0,translateY:0},a,"labelImage0"),je(i.eq(1),j,{translateX:0,translateY:0},a,"labelImage1"),je(i.eq(2),j,{translateX:0,translateY:0},a,"labelImage2"),je(i.eq(3),j,{translateX:0,translateY:0},a,"labelImage3");break;case"labelAppearSplitVert":var i=a.$getElt(".labelImage");je(i.eq(0),j,{translateX:0},a,"labelImage0"),je(i.eq(1),j,{translateX:0},a,"labelImage1");break;case"scaleLabelOverImage":je(a.$getElt(".labelImage"),j,{scale:100/n,opacity:"1"},a,"labelImage0"),je(a.$getElt(".imgContainer"),j,{scale:50/n},a,"imgContainer0");break;case"overScale":case"overScaleOutside":je(a.$getElt(".labelImage"),j,{opacity:"1",scale:100/n},a,"labelImage0"),je(a.$getElt(".imgContainer"),j,{opacity:"0",scale:50/n},a,"imgContainer0");break;case"imageInvisible":je(a.$getElt(".imgContainer"),j,{opacity:"0"},a);break;case"rotateCornerBL":var r="transition"==bt.aengine?{rotate:"0deg"}:{rotateZ:"0"};je(a.$getElt(".labelImage"),j,r,a,"labelImage0"),r="transition"==bt.aengine?{rotate:"90deg"}:{rotateZ:"90"},je(a.$getElt(".imgContainer"),j,r,a,"imgContainer0");break;case"rotateCornerBR":var r="transition"==bt.aengine?{rotate:"0deg"}:{rotateZ:"0"};je(a.$getElt(".labelImage"),j,r,a,"labelImage0"),r="transition"==bt.aengine?{rotate:"-90deg"}:{rotateZ:"-90"},je(a.$getElt(".imgContainer"),j,r,a,"imgContainer0");break;case"imageRotateCornerBL":var r="transition"==bt.aengine?{rotate:"90deg"}:{rotateZ:"90"};je(a.$getElt(".imgContainer"),j,r,a,"imgContainer0");break;case"imageRotateCornerBR":var r="transition"==bt.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};je(a.$getElt(".imgContainer"),j,r,a,"imgContainer0");break;case"slideUp":je(a.$getElt(".imgContainer"),j,{translateY:-a.thumbFullHeight},a,"imgContainer0"),je(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"slideDown":je(a.$getElt(".imgContainer"),j,{translateY:a.thumbFullHeight},a,"imgContainer0"),je(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"slideRight":je(a.$getElt(".imgContainer"),j,{translateX:a.thumbFullWidth},a,"imgContainer0"),je(a.$getElt(".labelImage"),j,{translateX:0},a,"labelImage0");break;case"slideLeft":je(a.$getElt(".imgContainer"),j,{translateX:-a.thumbFullWidth},a,"imgContainer0"),je(a.$getElt(".labelImage"),j,{translateX:0},a,"labelImage0");break;case"imageSlideUp":je(a.$getElt(".imgContainer"),j,{translateY:-a.thumbFullHeight},a,"imgContainer0");break;case"imageSlideDown":je(a.$getElt(".imgContainer"),j,{translateY:a.thumbFullHeight},a,"imgContainer0");break;case"imageSlideLeft":je(a.$getElt(".imgContainer"),j,{translateX:-a.thumbFullWidth},a,"imgContainer0");break;case"imageSlideRight":je(a.$getElt(".imgContainer"),j,{translateX:a.thumbFullWidth},a,"imgContainer0");break;case"labelAppear":if("velocity"==bt.aengine)je(a.$getElt(".labelImage"),j,{backgroundColorRed:bt.custGlobals.oldLabelRed,backgroundColorGreen:bt.custGlobals.oldLabelGreen,backgroundColorBlue:bt.custGlobals.oldLabelBlue,backgroundColorAlpha:1},a);else{var o="rgba("+bt.custGlobals.oldLabelRed+","+bt.custGlobals.oldLabelGreen+","+bt.custGlobals.oldLabelBlue+",0.99)";je(a.$getElt(".labelImage"),j,{backgroundColor:o},a)}"album"==a.kind?je(a.$getElt(".labelFolderTitle"),j,{opacity:"1"},a):je(a.$getElt(".labelImageTitle"),j,{opacity:"1"},a),je(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"labelAppear75":if("velocity"==bt.aengine)je(a.$getElt(".labelImage"),j,{backgroundColorRed:bt.custGlobals.oldLabelRed,backgroundColorGreen:bt.custGlobals.oldLabelGreen,backgroundColorBlue:bt.custGlobals.oldLabelBlue,backgroundColorAlpha:.75},a);else{var o="rgba("+bt.custGlobals.oldLabelRed+","+bt.custGlobals.oldLabelGreen+","+bt.custGlobals.oldLabelBlue+",0.75)";je(a.$getElt(".labelImage"),j,{backgroundColor:o},a)}"album"==a.kind?je(a.$getElt(".labelFolderTitle"),j,{opacity:"1"},a):je(a.$getElt(".labelImageTitle"),j,{opacity:"1"},a),je(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"descriptionAppear":je(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"labelSlideDown":je(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":je(a.$getElt(".labelImage"),j,{translateY:0},a,"labelImage0");break;case"descriptionSlideUp":var s="album"==a.kind?a.$getElt(".labelFolderTitle").outerHeight(!0):a.$getElt(".labelImageTitle").outerHeight(!0),u=a.$getElt(".labelDescription").outerHeight(!0),c=a.thumbFullHeight-s-u;0>c&&(c=0),je(a.$getElt(".labelImage"),j,{translateY:0,height:s+u},a,"labelImage0"),je(a.$getElt(".labelDescription"),j,{opacity:"1"},a);break;case"labelOpacity50":je(a.$getElt(".labelImage"),j,{opacity:"0.5"},a);break;case"imageOpacity50":je(a.$getElt(".imgContainer"),j,{opacity:"0.5"},a);break;case"borderLighter":if("velocity"==bt.aengine){var g=yt(bt.custGlobals.oldBorderColor,.5),m=g.substring(g.indexOf("(")+1,g.lastIndexOf(")")).split(/,\s*/);je(e,j,{borderColorRed:m[0],borderColorGreen:m[1],borderColorBlue:m[2],colorAlpha:m[3]},a)}else{var o=e.css("borderTopColor");e.data("ngcache_borderColor",o),je(e,j,{borderColor:yt(o,.5)},a)}break;case"borderDarker":if("velocity"==bt.aengine){var g=It(bt.custGlobals.oldBorderColor,.5),m=g.substring(g.indexOf("(")+1,g.lastIndexOf(")")).split(/,\s*/);je(e,j,{borderColorRed:m[0],borderColorGreen:m[1],borderColorBlue:m[2],colorAlpha:m[3]},a)}else{var o=e.css("borderTopColor");e.data("ngcache_borderColor",o),je(e,j,{borderColor:It(o,.5)},a)}break;case"imageScale150":je(a.$getElt("img"),j,{scale:150/n},a,"img0");break;case"imageScaleIn80":je(a.$getElt("img"),j,{scale:100/n},a,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(a.customData.hoverEffectRDir){case"imageSlide2Up":var d=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;je(a.$getElt("img"),j,{translateY:-d},a,"img0");break;case"imageSlide2Down":var d=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;je(a.$getElt("img"),j,{translateY:d},a,"img0");break;case"imageSlide2Left":je(a.$getElt("img"),j,{translateX:.1*-a.thumbFullWidth},a,"img0");break;case"imageSlide2Right":je(a.$getElt("img"),j,{translateX:.1*a.thumbFullWidth},a,"img0");break;case"imageSlide2UpRight":je(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0");break;case"imageSlide2UpLeft":je(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0");break;case"imageSlide2DownRight":je(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0");break;case"imageSlide2DownLeft":je(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0")}break;case"imageScale150Outside":dt("",e),je(a.$getElt("img"),j,{scale:150/n},a,"img0");break;case"scale120":dt("",e),je(e,j,{scale:120/n},a,"base");break;case"imageExplode":dt("",e);var h=a.$getElt(".imgContainer");t=Math.sqrt(h.length);for(var b=[],p=0;p<=Math.PI;p+=Math.PI/(t-1))b.push(Math.sin(p));for(var f=h.outerWidth(!0)/t,v=h.outerHeight(!0)/t,p=0,r=0;t>r;r++)for(var o=0;t>o;o++)je(h.eq(p++),j,{top:(-v*t/3+v*r-v)*b[o],left:(-f*t/3+f*o-f)*b[r],scale:1.5,opacity:0},a);break;case"imageFlipHorizontal":dt("",e),je(a.$getElt(".imgContainer"),j,{rotateX:180},a,"imgContainer0"),je(a.$getElt(".labelImage"),j,{rotateX:360},a,"labelImage0");break;case"imageFlipVertical":dt("",e),je(a.$getElt(".imgContainer"),j,{rotateY:180},a,"imgContainer0"),je(a.$getElt(".labelImage"),j,{rotateY:360},a,"labelImage0");break;case"TEST":}}catch(y){st("error on hover "+y.message)}}}function He(e,a,n,i,r){var l=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if("animate"==bt.aengine)for(var o=0;o<l.length;o++){var s=l[o];if("undefined"!=typeof n[s]){var u=new t,c=parseInt(n[s]);u.tween({attachment:{it:i,eC:r,t:s,f:c},from:{v:parseInt(i.eltTransform[r][s])},to:{v:c},duration:bt.tn.getHE()[a].durationBack,delay:bt.tn.getHE()[a].delayBack,step:function(e,t){t.it.eltTransform[t.eC][t.t]=e.v,De(t.it,t.eC)},finish:function(e,t){t.it.eltTransform[t.eC][t.t]=t.f,De(t.it,t.eC)}}),delete n[s]}}var g=0;for(var m in n)if(n.hasOwnProperty(m)){g++;break}if(0!=g)if("transition"!=bt.aengine){var d={};for(var m in n)"borderColor"==m?d[m]=e.css("borderTopColor"):(d[m]=e.css(m),"transparent"==d[m]&&(d[m]="rgba(0,0,0,0.01)"));var u=new t;u.tween({attachment:{$e:e,it:i,to:n},from:d,to:n,duration:bt.tn.getHE()[a].durationBack,delay:bt.tn.getHE()[a].delayBack,step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css(t.to)}})}else bt.tn.getHE()[a].delay>0?e.delay(bt.tn.getHE()[a].delay)[bt.aengine](n,bt.tn.getHE()[a].durationBack,bt.tn.getHE()[a].easingBack):e[bt.aengine](n,bt.tn.getHE()[a].durationBack,bt.tn.getHE()[a].easingBack)}function Ge(e){if(!bt.containerViewerDisplayed){var t=e.data("index");if(void 0!=t){"velocity"==bt.aengine?e.find("*").velocity("stop",!0):e.find("*").filter(":animated").stop(!0,!1);var a=bt.I[t];a.hovered=!1;var n="animate"==bt.aengine?1:100;"function"==typeof bt.O.fnThumbnailHoverOut&&bt.O.fnThumbnailHoverOut(e,a,l());try{for(j=0;j<bt.tn.getHE().length;j++)switch(bt.tn.getHE()[j].name){case"imageSplit4":var i=a.$getElt(".imgContainer");He(i.eq(0),j,{translateX:0,translateY:0},a,"imgContainer0"),He(i.eq(1),j,{translateX:0,translateY:0},a,"imgContainer1"),He(i.eq(2),j,{translateX:0,translateY:0},a,"imgContainer2"),He(i.eq(3),j,{translateX:0,translateY:0},a,"imgContainer3");break;case"imageSplitVert":var i=a.$getElt(".imgContainer");He(i.eq(0),j,{translateX:0},a,"imgContainer0"),He(i.eq(1),j,{translateX:0},a,"imgContainer1");break;case"labelSplit4":var i=a.$getElt(".labelImage");He(i.eq(0),j,{translateX:0,translateY:0},a,"labelImage0"),He(i.eq(1),j,{translateX:0,translateY:0},a,"labelImage1"),He(i.eq(2),j,{translateX:0,translateY:0},a,"labelImage2"),He(i.eq(3),j,{translateX:0,translateY:0},a,"labelImage3");break;case"labelSplitVert":var i=a.$getElt(".labelImage");He(i.eq(0),j,{translateX:0},a,"labelImage0"),He(i.eq(1),j,{translateX:0},a,"labelImage1");break;case"labelAppearSplit4":var i=a.$getElt(".labelImage");He(i.eq(0),j,{translateX:-a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage0"),He(i.eq(1),j,{translateX:a.thumbFullWidth/2,translateY:-a.thumbFullHeight/2},a,"labelImage1"),He(i.eq(2),j,{translateX:a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage2"),He(i.eq(3),j,{translateX:-a.thumbFullWidth/2,translateY:a.thumbFullHeight/2},a,"labelImage3");break;case"labelAppearSplitVert":var i=a.$getElt(".labelImage");He(i.eq(0),j,{translateX:-a.thumbFullWidth/2},a,"labelImage0"),He(i.eq(1),j,{translateX:a.thumbFullWidth/2},a,"labelImage1");break;case"scaleLabelOverImage":He(a.$getElt(".labelImage"),j,{opacity:"0",scale:50/n},a,"labelImage0"),He(a.$getElt(".imgContainer"),j,{scale:100/n},a,"imgContainer0");break;case"overScale":case"overScaleOutside":He(a.$getElt(".labelImage"),j,{opacity:"0",scale:150/n},a,"labelImage0"),He(a.$getElt(".imgContainer"),j,{opacity:"1",scale:100/n},a,"imgContainer0");break;case"imageInvisible":He(a.$getElt(".imgContainer"),j,{opacity:"1"});break;case"rotateCornerBL":var r="transition"==bt.aengine?{rotate:"-90deg"}:{rotateZ:"-90"};He(a.$getElt(".labelImage"),j,r,a,"labelImage0"),r="transition"==bt.aengine?{rotate:"0deg"}:{rotateZ:"0"},He(a.$getElt(".imgContainer"),j,r,a,"imgContainer0");break;case"rotateCornerBR":var r="transition"==bt.aengine?{rotate:"90deg"}:{rotateZ:"90"};He(a.$getElt(".labelImage"),j,r,a,"labelImage0"),r="transition"==bt.aengine?{rotate:"0deg"}:{rotateZ:"0"},He(a.$getElt(".imgContainer"),j,r,a,"imgContainer0");break;case"imageRotateCornerBL":case"imageRotateCornerBR":var r="transition"==bt.aengine?{rotate:"0deg"}:{rotateZ:"0"};He(a.$getElt(".imgContainer"),j,r,a,"imgContainer0");break;case"slideUp":He(a.$getElt(".imgContainer"),j,{translateY:0},a,"imgContainer0"),He(a.$getElt(".labelImage"),j,{translateY:a.thumbFullHeight},a,"labelImage0");break;case"slideDown":He(a.$getElt(".imgContainer"),j,{translateY:0},a,"imgContainer0"),He(a.$getElt(".labelImage"),j,{translateY:-a.thumbFullHeight},a,"labelImage0");break;case"slideRight":He(a.$getElt(".imgContainer"),j,{translateX:0},a,"imgContainer0"),He(a.$getElt(".labelImage"),j,{translateX:-a.thumbFullWidth},a,"labelImage0");break;case"slideLeft":He(a.$getElt(".imgContainer"),j,{translateX:0},a,"imgContainer0"),He(a.$getElt(".labelImage"),j,{translateX:a.thumbFullWidth},a,"labelImage0");break;case"imageSlideUp":case"imageSlideDown":He(a.$getElt(".imgContainer"),j,{translateY:0},a,"imgContainer0");break;case"imageSlideLeft":case"imageSlideRight":He(a.$getElt(".imgContainer"),j,{translateX:0},a,"imgContainer0");break;case"labelAppear":case"labelAppear75":if("velocity"==bt.aengine)He(a.$getElt(".labelImage"),j,{backgroundColorRed:bt.custGlobals.oldLabelRed,backgroundColorGreen:bt.custGlobals.oldLabelGreen,backgroundColorBlue:bt.custGlobals.oldLabelBlue,backgroundColorAlpha:0});else{var o="rgba("+bt.custGlobals.oldLabelRed+","+bt.custGlobals.oldLabelGreen+","+bt.custGlobals.oldLabelBlue+",0.01)";He(a.$getElt(".labelImage"),j,{backgroundColor:o})}"album"==a.kind?He(a.$getElt(".labelFolderTitle"),j,{opacity:"0"}):He(a.$getElt(".labelImageTitle"),j,{opacity:"0"}),He(a.$getElt(".labelDescription"),j,{opacity:"0"});break;case"descriptionAppear":He(a.$getElt(".labelDescription"),j,{opacity:"0"});break;case"labelSlideDown":He(a.$getElt(".labelImage"),j,{translateY:-a.thumbFullHeight},a,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":He(a.$getElt(".labelImage"),j,{translateY:a.thumbFullHeight},a,"labelImage0");break;case"descriptionSlideUp":var s="album"==a.kind?a.$getElt(".labelFolderTitle").outerHeight(!0):a.$getElt(".labelImageTitle").outerHeight(!0);a.thumbFullHeight-s-bt.tn.borderHeight-bt.tn.imgcBorderHeight;He(a.$getElt(".labelImage"),j,{translateY:0,height:s},a,"labelImage0");break;case"labelOpacity50":He(a.$getElt(".labelImage"),j,{opacity:bt.custGlobals.oldLabelOpacity});break;case"imageOpacity50":He(a.$getElt(".imgContainer"),j,{opacity:"1"});break;case"borderLighter":case"borderDarker":if("velocity"==bt.aengine){var u=bt.custGlobals.oldBorderColor,c=u.substring(u.indexOf("(")+1,u.lastIndexOf(")")).split(/,\s*/);He(e,j,{borderColorRed:c[0],borderColorGreen:c[1],borderColorBlue:c[2],colorAlpha:c[3]})}else He(e,j,{borderColor:e.data("ngcache_borderColor")});break;case"imageScale150":case"imageScale150Outside":He(a.$getElt("img"),j,{scale:100/n},a,"img0");break;case"imageScaleIn80":He(a.$getElt("img"),j,{scale:120/n},a,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(a.customData.hoverEffectRDir){case"imageSlide2Up":var g=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;He(a.$getElt("img"),j,{translateY:g},a,"img0");break;case"imageSlide2Down":var g=a.thumbFullHeight<1.4*a.imgHeight?(1.4*a.imgHeight-a.thumbFullHeight)/2:0;He(a.$getElt("img"),j,{translateY:-g},a,"img0");break;case"imageSlide2Left":He(a.$getElt("img"),j,{translateX:.1*a.thumbFullWidth},a,"img0");break;case"imageSlide2Right":He(a.$getElt("img"),j,{translateX:.1*-a.thumbFullWidth},a,"img0");break;case"imageSlide2UpRight":He(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0");break;case"imageSlide2UpLeft":He(a.$getElt("img"),j,{translateY:.05*a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0");break;case"imageSlide2DownRight":He(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*-a.thumbFullWidth},a,"img0");break;case"imageSlide2DownLeft":He(a.$getElt("img"),j,{translateY:.05*-a.thumbFullHeight,translateX:.05*a.thumbFullWidth},a,"img0")}break;case"scale120":He(e,j,{scale:100/n},a,"base");break;case"imageExplode":var m=a.$getElt(".imgContainer");t=Math.sqrt(m.length);for(var d=0,r=0;t>r;r++)for(var o=0;t>o;o++)He(m.eq(d++),j,{top:"0",left:"0",scale:"1",opacity:"1"});break;case"imageFlipHorizontal":He(a.$getElt(".imgContainer"),j,{rotateX:0},a,"imgContainer0"),He(a.$getElt(".labelImage"),j,{rotateX:180},a,"labelImage0");break;case"imageFlipVertical":He(a.$getElt(".imgContainer"),j,{rotateY:0},a,"imgContainer0"),He(a.$getElt(".labelImage"),j,{rotateY:180},a,"labelImage0");break;case"TEST":}}catch(h){st("error on hoverOut "+h.message)}}}}function Fe(e){return bt.O.thumbnailOpenImage?"function"==typeof bt.O.fnThumbnailOpen?void nt(e):void("fancybox"==bt.O.viewer?rt(e):bt.containerViewerDisplayed?Ye(e,""):_e(e)):void 0}function _e(e){jQuery("body").css({overflow:"hidden"}),bt.containerViewerDisplayed=!0,bt.$E.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body"),bt.$E.conVwCon.addClass("nanogallery_theme_"+bt.O.theme),ot(bt.$E.conVwCon),bt.$E.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(bt.$E.conVwCon),bt.$E.conVw.css({visibility:"visible",position:"fixed"}),bt.$E.conVw.css({msTouchAction:"none",touchAction:"none"});var t="";bt.I.length;t+='<img class="image nGEvent" src="" alt=" " style="background-image:url('+bt.I[e].responsiveURL()+');visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image nGEvent" src="" alt=" " style="background-image:url('+bt.I[e].responsiveURL()+');visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',t+='<img class="image nGEvent" src="" alt=" " style="background-image:url('+bt.I[e].responsiveURL()+');visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">',bt.$E.vwContent=jQuery('<div class="content nGEvent">'+t+'<div class="contentAreaPrevious nGEvent"></div><div class="contentAreaNext nGEvent"></div></div>').appendTo(bt.$E.conVw),bt.$E.vwImgP=bt.$E.conVw.find(".image").eq(0),bt.$E.vwImgC=bt.$E.conVw.find(".image").eq(1),bt.$E.vwImgN=bt.$E.conVw.find(".image").eq(2),bt.$E.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");var a=jQuery('<div class="closeButtonFloating nGEvent"></div>').appendTo(bt.$E.conVw);a.on("touchstart click",function(e){return e.preventDefault(),e.stopPropagation(),(new Date).getTime()-bt.timeImgChanged<400?void 0:(tt(!0),!1)});for(var n='<div class="toolbarContainer nGEvent" style="visibility:'+(bt.O.viewerToolbar.display?"visible":"hidden")+';"><div class="toolbar nGEvent">',i=bt.O.viewerToolbar.standard.split(","),r=0,o=i.length;o>r;r++)n+=Pe(i[r]);for(var s=bt.O.viewerToolbar.minimized.split(","),r=0,u=s.length;u>r;r++)-1==bt.O.viewerToolbar.standard.indexOf(s[r])&&(n+=Pe(s[r]));n+="</div></div>",bt.$E.conVwTb=jQuery(n).appendTo(bt.$E.conVw),"min"==bt.toolbarMode||bt.O.viewerToolbar.autoMinimize>0&&bt.O.viewerToolbar.autoMinimize>=ct().w?Ve():Qe(),bt.O.viewerFullscreen&&(bt.viewerIsFullscreen=!0,bt.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton"),ngscreenfull.request()),bt.O.viewerDisplayLogo&&(bt.$E.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(bt.$E.conVw)),dt("",bt.$E.conVw),dt(bt.$E.conVw,a),at(),bt.timeImgChanged=(new Date).getTime(),bt.$E.conVwTb.find(".closeButton").on("touchstart click",function(e){e.preventDefault(),e.stopPropagation(),(new Date).getTime()-bt.timeImgChanged<400||tt(!0)}),bt.$E.conVwTb.find(".playPauseButton").on("touchstart click",function(e){e.stopPropagation(),Ae()}),bt.$E.conVwTb.find(".minimizeButton").on("touchstart click",function(e){e.stopPropagation(),Re()}),bt.$E.conVwTb.find(".fullscreenButton").on("touchstart click",function(e){e.stopPropagation(),We()}),bt.$E.conVwTb.find(".infoButton").on("touchstart click",function(e){e.stopPropagation(),"function"==typeof bt.O.fnViewerInfo&&bt.O.fnViewerInfo(bt.I[bt.viewerCurrentItemIdx],l())}),bt.$E.conVwTb.find(".ngCustomBtn").on("touchstart click",function(e){if(e.stopPropagation(),"function"==typeof bt.O.fnImgToolbarCustClick){for(var t=e.target||e.srcElement;null==t||null==t.getAttribute("class")||-1==t.getAttribute("class").indexOf("ngCustomBtn");)t=t.parentNode;var a=t.getAttribute("class");if(a.indexOf("ngCustomBtn")>=0)for(var n=a.split(" "),i=0,r=n.length;r>i;i++)0==n[i].indexOf("custom")&&bt.O.fnImgToolbarCustClick(n[i],jQuery(t),bt.I[bt.viewerCurrentItemIdx],l())}}),bt.$E.conVwTb.find(".linkOriginalButton").on("touchstart click",function(e){if(e.stopPropagation(),"picasa"==bt.O.kind){var t="https://plus.google.com/photos/"+bt.O.userID+"/albums/"+bt.I[bt.viewerCurrentItemIdx].albumID+"/"+bt.I[bt.viewerCurrentItemIdx].GetID();window.open(t,"_blank")}if("flickr"==bt.O.kind){var t="https://www.flickr.com/photos/"+bt.O.userID+"/"+bt.I[bt.viewerCurrentItemIdx].GetID();window.open(t,"_blank")}}),bt.$E.conVwTb.find(".nextButton").on("touchstart click",function(e){e.stopPropagation(),qe()}),bt.$E.conVwTb.find(".previousButton").on("touchstart click",function(e){e.stopPropagation(),Xe()}),bt.$E.vwContent.find(".contentAreaNext").on("touchstart click",function(e){e.stopPropagation(),qe()}),bt.$E.vwContent.find(".contentAreaPrevious").on("touchstart click",function(e){e.stopPropagation(),Xe()}),bt.$E.vwContent.on("click",function(e){return(new Date).getTime()-bt.timeImgChanged<400?void 0:(e.preventDefault(),e.stopPropagation(),tt(!0),!1)}),bt.$E.conVw.find(".image").attr("draggable","false").attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-o-user-select":"none","user-select":"none"}),Ye(e,""),null==bt.viewerSwipe&&(bt.viewerSwipe=new Me(bt.$E.conVwCon[0])),bt.O.slideshowAutoStart&&(bt.playSlideshow=!0,bt.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Ue(),bt.playSlideshowTimerID=window.setInterval(function(){Ue()},bt.slideshowDelay))}function Pe(e){var t="",a=e.replace(/^\s+|\s+$/g,"");switch(a){case"minimizeButton":t='<div class="ngbt minimizeButton hideToolbarButton nGEvent"></div>';break;case"previousButton":t='<div class="ngbt previousButton nGEvent"></div>';break;case"pageCounter":t='<div class="pageCounter nGEvent"></div>';break;case"nextButton":t='<div class="ngbt nextButton nGEvent"></div>';break;case"playPauseButton":t='<div class="ngbt playButton playPauseButton nGEvent"></div>';break;case"fullscreenButton":bt.supportFullscreenAPI&&(t='<div class="ngbt setFullscreenButton fullscreenButton nGEvent"></div>');break;case"infoButton":"function"==typeof bt.O.fnViewerInfo&&(t='<div class="ngbt infoButton nGEvent"></div>');break;case"linkOriginalButton":("flickr"==bt.O.kind||"picasa"==bt.O.kind)&&(t='<div class="ngbt linkOriginalButton nGEvent"></div>');break;case"closeButton":t='<div class="ngbt closeButton nGEvent"></div>';break;case"label":t='<div class="label"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:0==a.indexOf("custom")&&(t='<div class="ngbt ngCustomBtn '+a+' nGEvent">'+("function"==typeof bt.O.fnImgToolbarCustInit?bt.O.fnImgToolbarCustInit(a):"")+"</div>")}return t}function Me(e){function t(e){bt.containerViewerDisplayed&&(bt.timeLastTouchStart=(new Date).getTime(),e.preventDefault(),e.touches&&e.touches.length>1||(u=r(e),window.navigator.msPointerEnabled?(document.addEventListener("MSPointerMove",a,!0),document.addEventListener("MSPointerUp",n,!0)):(document.addEventListener("touchmove",a,!0),document.addEventListener("touchend",n,!0),document.addEventListener("touchcancel",n,!0),document.addEventListener("mousemove",a,!0),document.addEventListener("mouseup",n,!0))))}function a(e){e.preventDefault(),c=r(e),s||(s=!0,window.requestAnimationFrame(l))}function n(e){e.cancelable&&e.preventDefault(),e.touches&&e.touches.length>0||(s=!1,window.navigator.msPointerEnabled?(document.removeEventListener("MSPointerMove",a,!0),document.removeEventListener("MSPointerUp",n,!0)):(document.removeEventListener("touchmove",a,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("touchcancel",n,!0),document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",n,!0)),i())}function i(){if(null==c)return g=0,void(u=null);var e=u.x-c.x;g-=e,-50>e&&Xe(),e>50&&qe(),g=0,u=null,c=null,Math.abs(e)<50&&Ne(g)}function r(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}function l(){if(s){var e=u.x-c.x;Ne(g-e),s=!1}}var o=e,s=!1,u=null,c=null,g=0;this.removeEventListeners=function(){window.navigator.msPointerEnabled?(o.removeEventListener("MSPointerDown",t,!0),document.removeEventListener("MSPointerMove",a,!0),document.removeEventListener("MSPointerUp",n,!0)):(o.removeEventListener("touchstart",t,!0),document.removeEventListener("touchmove",a,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("touchcancel",n,!0),document.removeEventListener("mousemove",a,!0),document.removeEventListener("mouseup",n,!0))},window.navigator.msPointerEnabled?o.addEventListener("MSPointerDown",t,!0):o.addEventListener("touchstart",t,!0)}function Ne(e){if(bt.imageSwipePosX=e,null==bt.CSStransformName)bt.$E.vwImgC.css({left:e});else if(bt.$E.vwImgC[0].style[bt.CSStransformName]="translateX("+e+"px)","slide"==bt.O.imageTransition)if(e>0){var t=(bt.$E.vwImgP,ct().w);bt.$E.vwImgP.css({visibility:"visible",left:0,opacity:1}),bt.$E.vwImgP[0].style[bt.CSStransformName]="translateX("+(-t+e)+"px) ",bt.$E.vwImgN[0].style[bt.CSStransformName]="translateX("+-t+"px) "}else{var t=(bt.$E.vwImgN,-ct().w);bt.$E.vwImgN.css({visibility:"visible",left:0,opacity:1}),bt.$E.vwImgN[0].style[bt.CSStransformName]="translateX("+(-t+e)+"px) ",bt.$E.vwImgP[0].style[bt.CSStransformName]="translateX("+-t+"px) "}}function We(){ngscreenfull.enabled&&(ngscreenfull.toggle(),bt.viewerIsFullscreen?(bt.viewerIsFullscreen=!1,bt.$E.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")):(bt.viewerIsFullscreen=!0,bt.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton")))}function Ae(){bt.playSlideshow?(window.clearInterval(bt.playSlideshowTimerID),bt.playSlideshow=!1,bt.$E.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")):(bt.playSlideshow=!0,bt.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton"),Ue(),bt.playSlideshowTimerID=window.setInterval(function(){Ue()},bt.slideshowDelay))}function Re(){"std"==bt.toolbarMode?Ve():Qe()}function Qe(){bt.toolbarMode="std",bt.$E.conVwTb.find(".minimizeButton").removeClass("viewToolbarButton").addClass("hideToolbarButton"),ze("std"),at()}function Ve(){bt.toolbarMode="min",bt.$E.conVwTb.find(".minimizeButton").removeClass("hideToolbarButton").addClass("viewToolbarButton"),ze("min"),at()}function ze(e){for(var t=bt.O.viewerToolbar,t="std"==e?bt.O.viewerToolbar.standard:bt.O.viewerToolbar.minimized,a=["minimizeButton","previousButton","pageCounter","nextButton","playPauseButton","fullscreenButton","infoButton","linkOriginalButton","closeButton","label"],n=0,i=a.length;i>n;n++)"label"==a[n]&&""==bt.$E.conVwTb.find(".title").text()&&""==bt.$E.conVwTb.find(".description").text()?bt.$E.conVwTb.find("."+a[n]).css({
display:"none"}):bt.$E.conVwTb.find("."+a[n]).css({display:t.indexOf(a[n])>=0?"table-cell":"none"});bt.$E.conVwTb.find(".ngCustomBtn").css({display:"none"});for(var r=t.split(","),n=0,i=r.length;i>n;n++){var l=r[n].replace(/^\s+|\s+$/g,"");0==l.indexOf("custom")&&bt.$E.conVwTb.find("."+l).css({display:"table-cell"})}}function qe(){bt.playSlideshow&&(window.clearInterval(bt.playSlideshowTimerID),bt.playSlideshowTimerID=window.setInterval(function(){Ue()},bt.slideshowDelay)),Ue()}function Ue(){if(!(bt.viewerImageIsChanged||(new Date).getTime()-bt.timeImgChanged<300)){var e=(bt.I.length,Ke(bt.viewerCurrentItemIdx));Ye(e,"nextImage")}}function Xe(){if(!(bt.viewerImageIsChanged||(new Date).getTime()-bt.timeImgChanged<300)){bt.playSlideshow&&Ae();var e=Je(bt.viewerCurrentItemIdx);Ye(e,"previousImage")}}function Ye(e,a){bt.timeImgChanged=(new Date).getTime(),bt.viewerImageIsChanged=!0;if(bt.O.locationHash){var n="nanogallery/"+bt.baseEltID+"/"+bt.I[e].albumID+"/"+bt.I[e].GetID();if("#"+n!=location.hash){bt.lastLocationHash="#"+n;try{top.location.hash=n}catch(i){bt.O.locationHash=!1}}else try{bt.lastLocationHash=top.location.hash}catch(i){bt.O.locationHash=!1}}if(bt.O.debugMode&&console.timeline&&console.timeline("nanoGALLERYviewer"),bt.viewerResizeTimerID=window.setTimeout(at,100),bt.viewerCurrentItemIdx=e,""==a){bt.$E.vwImgC.css({opacity:0,left:0,visibility:"visible","background-image":"url("+bt.I[e].responsiveURL()+")"}).attr("src",bt.emptyGif);var r=new t;r.tween({from:{o:0},to:{o:1},attachment:{idx:e,dT:a},duration:400,step:function(e,t){bt.$E.vwImgC.css({opacity:e.o})},finish:function(e,t){bt.$E.vwImgC.css({opacity:1}),Ze(t.idx,t.dT)}})}else switch(bt.O.imageTransition){case"fade":var l="nextImage"==a?bt.$E.vwImgN:bt.$E.vwImgP;l.css({opacity:0,left:0,visibility:"visible"});var r=new t;r.tween({from:{o:0},to:{o:1},attachment:{idx:e,dT:a,$e:l},duration:300,step:function(e,t){bt.$E.vwImgC.css({opacity:1-e.o}),t.$e.css({opacity:e.o})},finish:function(e,t){bt.$E.vwImgC.css({opacity:0}),t.$e.css({opacity:1}),Ze(t.idx,t.dT)}});break;case"slideBETA":var l="nextImage"==a?bt.$E.vwImgN:bt.$E.vwImgP;if(l.css({opacity:1,left:0,visibility:"visible"}),null==bt.CSStransformName)jQuery.when(bt.$E.vwImgC.animate({left:("nextImage"==a?-ct().w:ct().w)+"px",opacity:0},500),l.animate({opacity:1},300)).done(function(){Ze(e,a)});else{var o="nextImage"==a?-ct().w:ct().w;l[0].style[bt.CSStransformName]="translateX("+-o+"px) ";var s={v:bt.imageSwipePosX},u={v:"nextImage"==a?-ct().w:ct().w};jQuery(s).animate(u,{duration:500,step:function(e){bt.$E.vwImgC[0].style[bt.CSStransformName]="translateX("+e+"px)",bt.$E.vwImgC.css({opacity:1-Math.abs(e/o)}),l[0].style[bt.CSStransformName]="translateX("+(-o+e)+"px) "},complete:function(){bt.$E.vwImgC[0].style[bt.CSStransformName]="",bt.$E.vwImgC.css({opacity:0}),Ze(e,a)}})}break;case"slideOLD":var l="nextImage"==a?bt.$E.vwImgN:bt.$E.vwImgP;if(null==bt.CSStransformName)l.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(bt.$E.vwImgC.animate({left:("nextImage"==a?-ct().w:ct().w)+"px"},500),l.animate({opacity:1},300)).done(function(){Ze(e,a)});else{l.css({opacity:1,left:0,visibility:"visible"});var o="nextImage"==a?-ct().w:ct().w;l[0].style[bt.CSStransformName]="translateX("+-o+"px) ";var s={v:bt.imageSwipePosX},u={v:"nextImage"==a?-ct().w:ct().w};jQuery(s).animate(u,{duration:400,easing:"linear",step:function(e){window.requestAnimationFrame(function(){bt.$E.vwImgC[0].style[bt.CSStransformName]="translateX("+e+"px)",l[0].style[bt.CSStransformName]="translateX("+(-o+e)+"px) "})},complete:function(){window.requestAnimationFrame(function(){bt.$E.vwImgC[0].style[bt.CSStransformName]="",Ze(e,a)})}})}break;case"slide":var l="nextImage"==a?bt.$E.vwImgN:bt.$E.vwImgP;if(null==bt.CSStransformName)l.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(bt.$E.vwImgC.animate({left:2*("nextImage"==a?-ct().w:ct().w)+"px"},500),l.animate({opacity:1},300)).done(function(){Ze(e,a)});else{var o="nextImage"==a?-ct().w:ct().w;l.css({opacity:1,left:0,visibility:"visible"}),l[0].style[bt.CSStransformName]="translateX("+-o+"px) ";var r=new t;r.tween({from:{t:bt.imageSwipePosX},to:{t:"nextImage"==a?-ct().w:ct().w},attachment:{idx:e,dT:a,$e:l,dir:o},duration:300,step:function(e,t){bt.$E.vwImgC[0].style[bt.CSStransformName]="translateX("+e.t+"px)",t.$e[0].style[bt.CSStransformName]="translateX("+(-t.dir+e.t)+"px) "},finish:function(e,t){bt.$E.vwImgC[0].style[bt.CSStransformName]="",t.$e[0].style[bt.CSStransformName]="",Ze(t.idx,t.dT)}})}break;case"slideAppear":default:var o=ct().w+"px",l=bt.$E.vwImgP;"nextImage"==a&&(o="-"+o,l=bt.$E.vwImgN),l.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(bt.$E.vwImgC.animate({left:o,opacity:0},500),l.animate({opacity:1},300)).done(function(){Ne(0),Ze(e,a)})}}function Ze(e,t){if(et(e),bt.O.debugMode&&console.timeline&&console.timelineEnd("nanoGALLERYviewer"),"function"!=typeof bt.O.fnImgDisplayed||bt.O.fnImgDisplayed(bt.I[e].$elt,bt.I[e])){bt.imageSwipePosX=0,bt.$E.vwImgC.off("click"),bt.$E.vwImgC.removeClass("imgCurrent");var a=bt.$E.vwImgC;switch(t){case"nextImage":bt.$E.vwImgC=bt.$E.vwImgN,bt.$E.vwImgN=a;break;case"previousImage":bt.$E.vwImgC=bt.$E.vwImgP,bt.$E.vwImgP=a}bt.$E.vwImgC.addClass("imgCurrent"),bt.$E.vwImgN.css({opacity:0,left:0,visibility:"hidden","background-image":"url("+bt.I[Ke(e)].responsiveURL()+")"}).attr("src",bt.emptyGif),bt.$E.vwImgP.css({opacity:0,left:0,visibility:"hidden","background-image":"url("+bt.I[Je(e)].responsiveURL()+")"}).attr("src",bt.emptyGif),bt.$E.vwImgC.on("click",function(e){e.stopPropagation(),e.pageX<jQuery(window).width()/2?Xe():qe()}),at(),bt.viewerImageIsChanged=!1}}function Ke(e){for(var t=bt.I.length,a=-1,n=e+1;t>n;n++)if(bt.I[n].albumID==bt.I[e].albumID&&"image"==bt.I[n].kind){a=n;break}if(-1==a)for(var n=0;e>=n;n++)if(bt.I[n].albumID==bt.I[e].albumID&&"image"==bt.I[n].kind){a=n;break}return a}function Je(e){for(var t=-1,a=e-1;a>=0;a--)if(bt.I[a].albumID==bt.I[e].albumID&&"image"==bt.I[a].kind){t=a;break}if(-1==t)for(var a=bt.I.length-1;a>=e;a--)if(bt.I[a].albumID==bt.I[e].albumID&&"image"==bt.I[a].kind){t=a;break}return t}function et(e){if(bt.O.viewerToolbar.display){bt.$E.conVwTb.css({visibility:"visible"});var t=!1;void 0!==bt.I[e].title&&""!=bt.I[e].title?(bt.$E.conVwTb.find(".title").html(bt.I[e].title),t=!0):bt.$E.conVwTb.find(".title").html(""),void 0!==bt.I[e].description&&""!=bt.I[e].description?(bt.$E.conVwTb.find(".description").html(bt.I[e].description),t=!0):bt.$E.conVwTb.find(".description").html("");var a=bt.$E.conVwTb.find(".ngCustomBtn");a.length>0&&"function"==typeof bt.O.fnImgToolbarCustDisplay&&bt.O.fnImgToolbarCustDisplay(a,bt.I[e],l()),t&&("std"==bt.toolbarMode?bt.O.viewerToolbar.standard:bt.O.viewerToolbar.minimized).indexOf("label")>=0?bt.$E.conVwTb.find(".label").show():bt.$E.conVwTb.find(".label").hide();var n=he();n>0&&bt.$E.conVwTb.find(".pageCounter").html(bt.I[e].imageNumber+1+"/"+n)}}function tt(e){if(bt.viewerImageIsChanged&&bt.$E.vwContent.find("*").stop(!0,!0),bt.viewerImageIsChanged=!1,bt.containerViewerDisplayed){if(window.clearTimeout(bt.viewerResizeTimerID),bt.playSlideshow&&(window.clearInterval(bt.playSlideshowTimerID),bt.playSlideshow=!1),bt.viewerSwipe.removeEventListeners(),bt.viewerSwipe=null,bt.O.galleryFullpageButton&&bt.$E.base.hasClass("fullpage")||c(),bt.viewerIsFullscreen&&(bt.viewerIsFullscreen=!1,ngscreenfull.exit()),bt.$E.conVwCon.hide(0).off().show(0).html("").remove(),bt.containerViewerDisplayed=!1,-1!=bt.albumIdxToOpenOnViewerClose)Q(bt.albumIdxToOpenOnViewerClose,!0);else{if(bt.O.locationHash&&e){var t=bt.I[bt.viewerCurrentItemIdx].albumID,a="nanogallery/"+bt.baseEltID+"/"+t;bt.lastLocationHash="#"+a;try{top.location.hash=a}catch(n){bt.O.locationHash=!1}}Ce()}bt.timeImgChanged=(new Date).getTime()}}function at(){bt.containerViewerDisplayed&&((new Date).getTime()-bt.viewerResizeTimerLastRun<100||window.requestAnimationFrame(function(){var e=bt.$E.conVw.width(),t=bt.$E.conVw.height(),a=bt.$E.vwImgC,n=a.height(),i=a.width(),r=a.outerHeight(!0),l=a.outerHeight(!1),o=bt.$E.conVwTb.find(".toolbar"),s=o.outerHeight(!0);40>=n||!bt.O.viewerToolbar.display?bt.$E.conVwTb.css({visibility:"hidden"}):bt.$E.conVwTb.css({visibility:"visible"});var u=Math.abs(bt.$E.vwContent.outerHeight(!0)-bt.$E.vwContent.height()),c=Math.abs(bt.$E.vwContent.outerWidth(!0)-bt.$E.vwContent.width()),g=l-a.innerHeight(),m=(Math.abs(a.outerWidth(!1)-a.innerWidth()),Math.abs(a.innerHeight()-n)),d=(Math.abs(a.innerWidth()-i),g+m),h=0;"innerImage"!=bt.O.viewerToolbar.style&&(h=s);var b=t-h-u,p=e-c;switch(bt.O.viewerToolbar.position){case"top":bt.$E.vwContent.css({height:b,width:p,top:h});var f=0;"innerImage"==bt.O.viewerToolbar.style&&(f=Math.abs(r-n)/2+5),"stuckImage"==bt.O.viewerToolbar.style&&(f=Math.abs(r-n)/2-d),bt.$E.conVwTb.css({top:f});break;case"bottom":default:bt.$E.vwContent.css({height:b,width:p});var f=0;"innerImage"==bt.O.viewerToolbar.style&&(f=Math.abs(r-n)/2+5),"stuckImage"==bt.O.viewerToolbar.style&&(f=Math.abs(r-n)/2-d),bt.$E.conVwTb.css({bottom:f})}"innerImage"==bt.O.viewerToolbar.style&&o.css({"max-width":i}),"fullWidth"==bt.O.viewerToolbar.style&&o.css({width:p}),bt.$E.conVwTb.css({height:s}),bt.$E.vwContent.children("img").css({width:"100%",height:"100%"}),bt.$E.vwContent.children("img").css({"background-size":"contain","background-position":"center","background-repeat":"no-repeat"}),bt.viewerResizeTimerID=window.setTimeout(at,100),bt.viewerResizeTimerLastRun=(new Date).getTime()}))}function nt(e){var t=e,a=[],n=0;a.push(bt.I[t]);for(var i=bt.I.length,r=t+1;i>r;r++)"image"==bt.I[r].kind&&bt.I[r].albumID==bt.I[e].albumID&&""==bt.I[r].destinationURL&&(n++,a.push(bt.I[r]));for(var r=0;t>r;r++)"image"==bt.I[r].kind&&bt.I[r].albumID==bt.I[e].albumID&&""==bt.I[r].destinationURL&&(n++,a.push(bt.I[r]));bt.O.fnThumbnailOpen(a)}function rt(e){var t=e,a=[],n=0;a[n]=new Object,a[n].href=bt.I[t].responsiveURL(),a[n].title=bt.I[t].title;for(var i=bt.I.length,r=t+1;i>r;r++)"image"==bt.I[r].kind&&bt.I[r].albumID==bt.I[e].albumID&&""==bt.I[r].destinationURL&&(n++,a[n]=new Object,a[n].href=bt.I[r].responsiveURL(),a[n].title=bt.I[r].title);for(var r=0;t>r;r++)"image"==bt.I[r].kind&&bt.I[r].albumID==bt.I[e].albumID&&""==bt.I[r].destinationURL&&(n++,a[n]=new Object,a[n].href=bt.I[r].responsiveURL(),a[n].title=bt.I[r].title);null!=bt.O.fancyBoxOptions?jQuery.fancybox(a,bt.O.fancyBoxOptions):jQuery.fancybox(a,{autoPlay:!1,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}function lt(e){var t=null;switch(ft(bt.O.colorScheme)){case"object":t=bt.colorScheme_default,jQuery.extend(!0,t,bt.O.colorScheme),bt.colorSchemeLabel="nanogallery_colorscheme_custom_"+bt.baseEltID;break;case"string":switch(bt.O.colorScheme){case"none":return;case"light":t=bt.colorScheme_light,bt.colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":t=bt.colorScheme_lightBackground,bt.colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":t=bt.colorScheme_darkRed,bt.colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":t=bt.colorScheme_darkGreen,bt.colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":t=bt.colorScheme_darkBlue,bt.colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":t=bt.colorScheme_darkOrange,bt.colorSchemeLabel="nanogallery_colorscheme_darkorange";break;case"default":case"dark":default:t=bt.colorScheme_default,bt.colorSchemeLabel="nanogallery_colorscheme_default"}break;default:return void st("Error in colorScheme parameter.")}var a="."+bt.colorSchemeLabel+" ",n=a+".nanoGalleryNavigationbar { background:"+t.navigationbar.background+" !important; }\n";void 0!==t.navigationbar.border&&(n+=a+".nanoGalleryNavigationbar { border:"+t.navigationbar.border+" !important; }\n"),void 0!==t.navigationbar.borderTop&&(n+=a+".nanoGalleryNavigationbar { border-top:"+t.navigationbar.borderTop+" !important; }\n"),void 0!==t.navigationbar.borderBottom&&(n+=a+".nanoGalleryNavigationbar { border-bottom:"+t.navigationbar.borderBottom+" !important; }\n"),void 0!==t.navigationbar.borderRight&&(n+=a+".nanoGalleryNavigationbar { border-right:"+t.navigationbar.borderRight+" !important; }\n"),void 0!==t.navigationbar.borderLeft&&(n+=a+".nanoGalleryNavigationbar { border-left:"+t.navigationbar.borderLeft+" !important; }\n"),n+=a+".nanoGalleryNavigationbar .oneFolder  { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .separator  { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .separatorRTL  { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .setFullPageButton { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .removeFullPageButton { color:"+t.navigationbar.color+" !important; }\n",n+=a+".nanoGalleryNavigationbar .oneFolder:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .separatorRTL:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+t.navigationbar.colorHover+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer { background:"+t.thumbnail.background+" !important; border:"+t.thumbnail.border+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .imgContainer { background:"+t.thumbnail.background+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImage{ background:"+t.thumbnail.labelBackground+" ; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n";var i=t.thumbnail.labelBackground;"transparent"==i&&(i=""),n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle > span { background-color:"+t.thumbnail.titleColor+" !important; color:"+i+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+t.thumbnail.titleColor+" !important; Text-Shadow:"+t.thumbnail.titleShadow+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription { color:"+t.thumbnail.descriptionColor+" !important; Text-Shadow:"+t.thumbnail.descriptionShadow+" !important; }\n",n+=a+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription > span { background-color:"+t.thumbnail.titleColor+" !important; color:"+i+" !important; }\n",bt.O.paginationDots&&(n+=a+".nanoGalleryPaginationDot > .paginationItem { border:"+t.thumbnail.paginationDotBorder+" !important; background:"+t.thumbnail.paginationDotBack+" !important;}\n",n+=a+".nanoGalleryPaginationDot > .currentPage { background:"+t.thumbnail.paginationDotSelBack+" !important;}\n");var r="nanogallery_galleryfullpage_bgcolor_"+bt.baseEltID;n+="."+r+".fullpage { background:"+bt.O.galleryFullpageBgColor+" !important; }\n",jQuery("head").append("<style>"+n+"</style>"),jQuery(e).addClass(bt.colorSchemeLabel),jQuery(e).addClass(r)}function ot(e){var t=null;switch(ft(bt.O.colorSchemeViewer)){case"object":t=bt.colorSchemeViewer_default,jQuery.extend(!0,t,bt.O.colorSchemeViewer),bt.colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(bt.O.colorSchemeViewer){case"none":return;case"light":t=bt.colorSchemeViewer_light,bt.colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":t=bt.colorSchemeViewer_darkRed,bt.colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":t=bt.colorSchemeViewer_darkGreen,bt.colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":t=bt.colorSchemeViewer_darkBlue,bt.colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":t=bt.colorSchemeViewer_darkOrange,bt.colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case"dark":t=bt.colorSchemeViewer_dark,bt.colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;case"default":default:t=bt.colorSchemeViewer_default,bt.colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:return void st("Error in colorSchemeViewer parameter.")}var a="."+bt.colorSchemeLabel+" ",n=a+".nanoGalleryViewer { background:"+t.background+" !important; }\n";n+=a+".nanoGalleryViewer .content img { border:"+t.imageBorder+" !important; box-shadow:"+t.imageBoxShadow+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar { background:"+t.barBackground+" !important; border:"+t.barBorder+" !important; color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .previousButton:after { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .nextButton:after { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .closeButton:after { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .label .title { color:"+t.barColor+" !important; }\n",n+=a+".nanoGalleryViewer .toolbar .label .description { color:"+t.barDescriptionColor+" !important; }\n",jQuery("head").append("<style>"+n+"</style>"),jQuery(e).addClass(bt.colorSchemeLabel)}function st(e,t){ut(e),null!=bt.$E.conConsole&&(bt.$E.conConsole.css({visibility:"visible",height:"auto"}),0==t?bt.$E.conConsole.append("<p>"+e+"</p>"):bt.$E.conConsole.append("<p>nanoGALLERY: "+e+" ["+bt.baseEltID+"]</p>"))}function ut(e){window.console&&console.log("nanoGALLERY: "+e+" ["+bt.baseEltID+"]")}function ct(){var e=jQuery(window);return vpW=e.width(),bt.O.demoViewportWidth>0&&(bt.O.demoViewportWidth<vpW&&(vpW=bt.O.demoViewportWidth),bt.O.maxWidth=vpW,jQuery(bt.$E.base).css({width:bt.O.maxWidth}),jQuery(bt.$E.base).css({"margin-left":"auto"}),jQuery(bt.$E.base).css({"margin-right":"auto"})),{l:e.scrollLeft(),t:e.scrollTop(),w:vpW,h:e.height()}}function gt(e,t){var a=ct(),n=e.offset(),i=e.outerHeight(!0),r=e.outerWidth(!0);return n.top>=a.t-t&&n.top+i<=a.t+a.h+t&&n.left>=a.l-t&&n.left+r<=a.l+a.w+t?!0:!1}function mt(e,t){var a=ct(),n=e.offset(),i=e.outerHeight(!0);e.outerWidth(!0);return 0==a.t&&n.top<=a.t+a.h?!0:n.top>=a.t&&n.top+i<=a.t+a.h-t?!0:!1}function dt(e,t){var a=0;""==e&&(e="*"),jQuery(e).each(function(){var e=parseInt(jQuery(this).css("z-index"));a=e>a?e:a}),a++,jQuery(t).css("z-index",a)}function ht(e){for(var t,a,n=e.length;n;t=Math.floor(Math.random()*n),a=e[--n],e[n]=e[t],e[t]=a);return e}this.ReloadAlbum=function(){if(""===bt.O.kind)throw"Not supported for this kind.";for(var e=bt.I.length,t=-1,a=0;e>a;a++)if(bt.lastOpenAlbumID==bt.I[a].GetID()){t=a;break}if(-1==t)throw"Current album not found.";bt.O.keepSelection===!1&&(bt.selectedItems=[]);for(var n=0;e>n;n++)bt.O.keepSelection===!1&&(bt.I[n].selected=!1),bt.I[n].albumID==t&&(bt.I[n].albumID=-1);switch(bt.I[t].contentIsLoaded=!1,bt.lastOpenAlbumID=-1,bt.O.kind){case"json":return $(t,!1,-1,!1,!0);case"flickr":return D(t,!1,-1,!1,!0);case"picasa":default:return P(t,!1,-1,!1,!0)}},this.moveToNextAlbum=function(){z()},this.moveToPreviousAlbum=function(){q()},this.closeViewer=function(){return tt(!0),!1},this.minimizeToolbar=function(){return Ve(),!1},this.maximizeToolbar=function(){return Qe(),!1},this.RefreshSize=function(){ae()},this.displayItem=function(e){return w(!1,e,!0)},this.paginationPreviousPage=function(){de()},this.paginationNextPage=function(){me()},this.paginationGotoPage=function(t){var a=bt.$E.conPagin.data("galleryIdx");mt(bt.$E.base,0)||e("html, body").animate({scrollTop:bt.$E.base.offset().top},200),t>1&&t--,be(a,t)},this.paginationCountPages=function(){var e=bt.$E.conPagin.data("galleryIdx"),t=0;return bt.pgMaxLinesPerPage>0&&(t=bt.I[e].contentLength/(bt.pgMaxLinesPerPage*bt.pgMaxNbThumbnailsPerRow)),n2=Math.ceil(t),n2},this.galleryCountImages=function(){return he()},this.GetItem=function(e){if(isNaN(e))throw"index must be a number";return bt.I[e]},this.GetItems=function(){return bt.I},this.GetItemsIndex=function(e){for(var t=[],a=e.length,n=0;a>n;n++){if(isNaN(e[n])?index=bt.I.indexOf(e[n]):index=e[n],isNaN(index))throw"This item does not exists";t.push(index)}return t},this.SetSelectedItems=function(e){for(var t=e.length,a=0;t>a;a++)null!==e[a].$elt&&we(e[a],!0)},this.SetUnselectedItems=function(e){for(var t=e.length,a=0;t>a;a++)null!==e[a].$elt&&we(e[a],!1)},this.GetSelectedItems=function(){return bt.selectedItems},this.GetCurrentViewedItem=function(){return bt.containerViewerDisplayed?bt.I[bt.viewerCurrentItemIdx]:null},this.GetCurrentViewedItemIdx=function(){return bt.containerViewerDisplayed?bt.viewerCurrentItemIdx:-1},this.Get=function(e){return bt.O[e]},this.Set=function(e,t){bt.O[e]=t},this.SetSelectMode=function(t){"undefined"==typeof t&&bt.selectModeForce===!0&&(t=bt.selectMode),(t===!0||t===!1||"image"===t||"album"===t)&&(bt.selectModeForce=t!==!1,bt.selectMode=t,"album"===t||"image"==t?bt.$E.base.find(".nanoGalleryThumbnailContainer").each(function(){e(this).hasClass("album")&&"image"===t||!e(this).hasClass("album")&&"album"===t?e(this).addClass("unselectable"):e(this).removeClass("unselectable")}):bt.$E.base.find(".nanoGalleryThumbnailContainer").removeClass("unselectable"),(bt.O.keepSelection===!1||t===!1)&&this.SetUnselectedItems(bt.I),"function"==typeof bt.O.fnChangeSelectMode&&bt.O.fnChangeSelectMode(bt.selectMode))},this.GetSelectMode=function(){return bt.selectMode};var bt=this;bt.I=[],bt.O=null,bt.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,conNavB:null,conNavBCon:null,conNavBFullpage:null,conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null},bt.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},bt.$currentTouchedThumbnail=null,bt.baseEltID=null,bt.containerTags=null,bt.containerNavigationbarContDisplayed=!1,bt.containerViewerDisplayed=!1,bt.containerThumbnailsDisplayed=!1,bt.tn={displayInterval:30,lazyLoadTreshold:100,scale:1,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:{l1:0,lN:0,get:function(){return bt.tn.labelHeight[bt.curNavLevel]}},outerWidth:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return bt.tn.outerWidth[bt.curNavLevel][bt.curWidth]}},outerHeight:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return bt.tn.outerHeight[bt.curNavLevel][bt.curWidth]}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return bt.tn.settings.height[bt.curNavLevel][bt.curWidth]},getW:function(){return bt.tn.settings.width[bt.curNavLevel][bt.curWidth]}},getHE:function(){return"l1"==bt.curNavLevel&&0!==bt.tnL1HE.length?bt.tnL1HE:bt.tnHE},styleFTitle:"",styleITitle:"",styleDesc:"",styleLabelImage:"",styleL1FTitle:"",styleL1ITitle:"",styleL1Desc:"",styleL1LabelImage:""},bt.tnHE=[],bt.tnL1HE=[],bt.L={nbMaxTnPerRow:0},bt.blackList=null,bt.whiteList=null,bt.albumList=null,bt.galleryItemsCount=0,bt.toolbarMode="std",bt.playSlideshow=!1,bt.playSlideshowTimerID=0,bt.slideshowDelay=3e3,bt.touchAutoOpenDelayTimerID=0,bt.supportFullscreenAPI=!1,bt.viewerIsFullscreen=!1,bt.bodyOverflowInitial=null,bt.i18nLang="",bt.timeImgChanged=0,bt.timeLastTouchStart=0,bt.pgMaxNbThumbnailsPerRow=1,bt.pgMaxLinesPerPage=0,bt.lastOpenAlbumID=-1,bt.lastLocationHash="",bt.touchSelectTO=null,bt.viewerImageIsChanged=!1,bt.viewerResizeTimerID=-1,bt.viewerResizeTimerLastRun=-1,bt.viewerCurrentItemIdx=-1,bt.imageSwipePosX=0,bt.albumIdxToOpenOnViewerClose=-1,bt.custGlobals={},bt.delayedAlbumIdx=-1,bt.curAlbumIdx=-1,bt.delayedSetLocationHash=!1,bt.viewerSwipe=null,bt.isShiftPressed=!1,bt.isAltPressed=!1,bt.isCtrlPressed=!1,bt.isMetaPressed=!1,bt.selectedItems=[],bt.aengine="animate",bt.scrollTimeOut=0,bt.maxAlbums=1e6,bt.maxPhotos=1e6,bt.curNavLevel="l1",bt.curWidth="me",bt.gallerySwipeInitDone=!1,bt.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",bt.CSStransformName=s(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),bt.CSStransformStyle=s(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),bt.CSSperspective=s(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),bt.CSSbackfaceVisibilityName=s(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),bt.CSStransitionName=s(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),bt.CSSanimationName=s(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),bt.IE=function(){if(document.documentMode)return document.documentMode;for(var e=7;e>4;e--){var t=document.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return void 0}(),bt.IOSversion=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}}(),bt.isIOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),bt.isGingerbread=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),bt.openNoDelay=!1,bt.startDateTime=new Date,bt.toRender=[],bt.picasa={url:function(){return bt.O.picasaUseUrlCrossDomain?"https://photos.googleapis.com/data/feed/api/":"https://picasaweb.google.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "},bt.flickr={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"sq",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},bt.colorScheme_default={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #fff",paginationDotBack:"#444",paginationDotSelBack:"#fff"}},bt.colorScheme_darkRed={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #d00",paginationDotBack:"#400",paginationDotSelBack:"#d00"}},bt.colorScheme_darkGreen={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #0c0",paginationDotBack:"#008500",paginationDotSelBack:"#0c0"}},bt.colorScheme_darkBlue={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #162ea2",paginationDotBack:"#071871",paginationDotSelBack:"#162ea2"}},bt.colorScheme_darkOrange={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #ffb600",paginationDotBack:"#a67600",paginationDotSelBack:"#ffb600"}},bt.colorScheme_light={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},bt.colorScheme_lightBackground={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:"",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}},bt.colorSchemeViewer_default={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},bt.colorSchemeViewer_dark={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},bt.colorSchemeViewer_darkRed={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},bt.colorSchemeViewer_darkGreen={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},bt.colorSchemeViewer_darkBlue={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},bt.colorSchemeViewer_darkOrange={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},bt.colorSchemeViewer_light={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var pt=function(){function e(e,a){var n=0;n=void 0===a||null===a?t++:a,this.GetID=function(){return n},this.title=e,this.description="",this.src="",this.width=0,this.height=0,this.destinationURL="",this.kind="",this.author="",this.thumbFullWidth=0,this.thumbFullHeight=0,this.thumbLabelWidth=0,this.thumbLabelHeight=0,this.thumbSizes={},this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{
xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.imageNumber=0,this.eltTransform={},this.albumID=0,this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.$elt=null,this.$Elts=[]}var t=1;return e.get_nextId=function(){return t},e.prototype={$getElt:function(e,t){return void 0!==this.$Elts[e]&&1==!t?this.$Elts[e]:(this.$Elts[e]=this.$elt.find(e),this.$Elts[e])},thumbSetImgHeight:function(e){for(var t=["xs","sm","me","la","xl"],a=0;a<t.length;a++)bt.tn.settings.height.l1[t[a]]==bt.tn.settings.getH()&&bt.tn.settings.width.l1[t[a]]==bt.tn.settings.getW()&&(this.thumbs.height.l1[t[a]]=e);for(var a=0;a<t.length;a++)bt.tn.settings.height.lN[t[a]]==bt.tn.settings.getH()&&bt.tn.settings.width.l1[t[a]]==bt.tn.settings.getW()&&(this.thumbs.height.lN[t[a]]=e)},thumbSetImgWidth:function(e){for(var t=["xs","sm","me","la","xl"],a=0;a<t.length;a++)bt.tn.settings.height.l1[t[a]]==bt.tn.settings.getH()&&bt.tn.settings.width.l1[t[a]]==bt.tn.settings.getW()&&(this.thumbs.width.l1[t[a]]=e);for(var a=0;a<t.length;a++)bt.tn.settings.height.lN[t[a]]==bt.tn.settings.getH()&&bt.tn.settings.width.l1[t[a]]==bt.tn.settings.getW()&&(this.thumbs.width.lN[t[a]]=e)},thumbImg:function(){var e={src:"",width:0,height:0};return"dummydummydummy"==this.title?(e.src=bt.emptyGif,e):(e.src=this.thumbs.url[bt.curNavLevel][bt.curWidth],e.width=this.thumbs.width[bt.curNavLevel][bt.curWidth],e.height=this.thumbs.height[bt.curNavLevel][bt.curWidth],e)},responsiveURL:function(){var e="";switch(bt.O.kind){case"":e=this.src;break;case"flickr":e=this.src;break;case"picasa":default:e=this.src}return e}},e}();this.Initiate=function(e,t){"use strict";if(bt.O=t,bt.O.thumbnailLabel.get=function(e){return"l1"==bt.curNavLevel&&void 0!==bt.O.thumbnailL1Label&&void 0!==bt.O.thumbnailL1Label[e]?bt.O.thumbnailL1Label[e]:bt.O.thumbnailLabel[e]},bt.O.thumbnailLabel.set=function(e,t){"l1"==bt.curNavLevel&&void 0!==bt.O.thumbnailL1Label&&void 0!==bt.O.thumbnailL1Label[e]?bt.O.thumbnailL1Label[e]=t:bt.O.thumbnailLabel[e]=t},bt.$E.base=jQuery(e),bt.baseEltID=bt.$E.base.attr("id"),bt.bodyOverflowInitial=jQuery("body").css("overflow"),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),a=this,n=function(){},i=function(){return a.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i}),String.prototype.replaceAll=function(e,t){return void 0===t?this.toString():this.split(e).join(t)},"object"==ft(jQuery.velocity)?bt.aengine="velocity":"object"==ft(jQuery.transit)&&(bt.aengine="transition"),jQuery(e).addClass("nanogallery_theme_"+bt.O.theme),lt(e),bt.O.thumbnailLabel.get("hideIcons")){var n=".nanogallery_thumbnails_icons_off ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n";i+=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_icons_off")}if(bt.O.galleryToolbarHideIcons){var n=".nanogallery_breadcrumb_icons_off ",i=n+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n";i+=n+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n",jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_breadcrumb_icons_off")}if("right"==bt.O.thumbnailLabel.get("align")){var n=".nanogallery_thumbnails_label_align_right ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_right")}if("center"==bt.O.thumbnailLabel.get("align")){var n=".nanogallery_thumbnails_label_align_center ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_center")}if("left"==bt.O.thumbnailLabel.get("align")){var n=".nanogallery_thumbnails_label_align_left ",i=n+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n";jQuery("head").append("<style>"+i+"</style>"),jQuery(e).addClass("nanogallery_thumbnails_label_align_left")}bt.$E.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(e),bt.$E.conNavBCon.hide(),bt.$E.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(bt.$E.conNavBCon);var r="";switch(bt.O.RTL&&(r='style="text-align:right;direction:rtl;"'),bt.$E.conBC=jQuery('<div class="nanoGalleryBreadcrumb" '+r+"></div>").appendTo(bt.$E.conNavB),bt.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(e),bt.$E.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(e),bt.$E.conTn=jQuery('<div class="nanoGalleryContainer nGEvent"></div>').appendTo(bt.$E.conTnParent),bt.$E.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(e),bt.O.thumbnailAlignment){case"left":bt.$E.conTnParent.css({"text-align":"left"}),bt.$E.conNavBCon.css({"margin-left":0});break;case"right":bt.$E.conTnParent.css({"text-align":"right"}),bt.$E.conNavBCon.css({"margin-right":0})}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");var l=jQuery('<div class="nanogalleryHideElement '+jQuery(e).attr("class")+'"></div>').appendTo("body"),s=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(l);if(bt.$E.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(s),bt.O.supportIE8)try{!window.addEventListener&&function(e,t,a,n,i,r,l){e[n]=t[n]=a[n]=function(e,t){var a=this;l.unshift([a,e,t,function(e){e.currentTarget=a,e.preventDefault=function(){e.returnValue=!1},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||a,t.call(a,e)}]),this.attachEvent("on"+e,l[0][3])},e[i]=t[i]=a[i]=function(e,t){for(var a,n=0;a=l[n];++n)if(a[0]==this&&a[1]==e&&a[2]==t)return this.detachEvent("on"+e,l.splice(n,1)[0][3])},e[r]=t[r]=a[r]=function(e){return this.fireEvent("on"+e.type,e)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}catch(c){return o(),!1}else if(bt.IE<=8)return o(),!1;d();var g="";bt.O.RTL&&(g='style="direction:rtl;"'),bt.$E.conPagin=jQuery('<div class="nanoGalleryPagination'+(bt.O.paginationDots?"Dot":"")+'" '+g+"></div>").appendTo(bt.$E.conTnParent),bt.$E.conPagin.hide();new m(bt.$E.conTn[0]);y(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?bt.supportFullscreenAPI=!0:ut("Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),E(),bt.L.nbMaxTnPerRow=re(),bt.O.viewerFullscreen&&bt.O.openOnStart.indexOf("/")>0&&ngscreenfull.request(),"loadData"!=bt.O.lazyBuild&&u();var h=0;jQuery(window).resize(function(){h&&clearTimeout(h),bt.containerViewerDisplayed?at():h=setTimeout(function(){var e=b();-1==bt.curAlbumIdx||bt.tn.settings.getH()==bt.tn.settings.height[bt.curNavLevel][e]&&bt.tn.settings.getW()==bt.tn.settings.width[bt.curNavLevel][e]?ae():(bt.curWidth=e,be(bt.curAlbumIdx,0))},50)}),bt.$E.base.on("scroll",function(){a()}),jQuery(window).on("scroll",function(){a()})},function(){for(var e=0,t=["ms","moz","webkit","o"],a=0;a<t.length&&!window.requestAnimationFrame;++a)window.requestAnimationFrame=window[t[a]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[a]+"CancelAnimationFrame"]||window[t[a]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,a){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var ft=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},vt=function(e,t,a){e=e.replace(/^\s*|\s*$/,""),e=e.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var n=Math.round(256*t)*(a?-1:1),i=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),r=i&&null!=i[4]?i[4]:null,l=i?[i[1],i[2],i[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return i?"rgb"+(null!==r?"a":"")+"("+Math[a?"max":"min"](parseInt(l[0],10)+n,a?0:255)+", "+Math[a?"max":"min"](parseInt(l[1],10)+n,a?0:255)+", "+Math[a?"max":"min"](parseInt(l[2],10)+n,a?0:255)+(null!==r?", "+r:"")+")":["#",wt(Math[a?"max":"min"](parseInt(l[0],10)+n,a?0:255).toString(16),2),wt(Math[a?"max":"min"](parseInt(l[1],10)+n,a?0:255).toString(16),2),wt(Math[a?"max":"min"](parseInt(l[2],10)+n,a?0:255).toString(16),2)].join("")},yt=function(e,t){return vt(e,t,!1)},It=function(e,t){return vt(e,t,!0)},wt=function(e,t){var a="0";for(e+="";e.length<t;)e=a+e;return e}}jQuery.nanoGallery=function(t,n){var i=this;i.$e=e(t),i.e=t,i.$e.data("nanoGallery",i),i.init=function(){i.options=e.extend(!0,{},e.nanoGallery.defaultOptions,n),i.nG=new a,i.nG.Initiate(i.e,i.options)},i.test=function(){},i.init()},jQuery.nanoGallery.defaultOptions={userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",RTL:!1,picasaUseUrlCrossDomain:!0,flickrSkipOriginal:!0,galleryToolbarWidthAligned:!0,galleryToolbarHideIcons:!1,galleryFullpageButton:!1,galleryFullpageBgColor:"#111",galleryEnableKeyboard:!1,galleryRenderStep:10,breadcrumbAutoHideTopLevel:!1,displayBreadcrumb:!1,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",itemsSelectable:!1,showCheckboxes:!0,checkboxStyle:"left:15px; top:15px;",keepSelection:!1,jsonCharset:"Latin",jsonProvider:"",paginationMaxLinesPerPage:0,paginationDots:!1,paginationSwipe:!0,maxWidth:0,viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,fancyBoxOptions:null,imageTransition:"slide",openOnStart:"",viewerToolbar:{display:!0,position:"bottom",style:"innerImage",autoMinimize:800,standard:"minimizeButton , previousButton, pageCounter ,nextButton,playPauseButton,fullscreenButton,infoButton,linkOriginalButton,closeButton,label",minimized:"minimizeButton,label"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:!0,thumbnailFeatured:!1,thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:!0,displayDescription:!0,titleMaxLength:0,descriptionMaxLength:0,hideIcons:!1,title:"",itemsCount:""},thumbnailDisplayInterval:5,thumbnailDisplayTransition:!0,thumbnailLazyLoad:!1,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",thumbnailOpenImage:!0,breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnThumbnailOpen:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnChangeSelectMode:null,fnInitGallery:null,touchAnimation:!0,touchAutoOpenDelay:0,useTags:!1,preset:"none",locationHash:!0,demoViewportWidth:0,slideshowDelay:3e3,slideshowAutoStart:!1,photoSorting:"",albumSorting:"",dataSorting:"",albumMax:0,lazyBuild:"none",lazyBuildTreshold:150,debugMode:!1,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",thumbnailLabelItemsCountPart1:"",thumbnailLabelItemsCountPart2:"",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"}},jQuery.fn.nanoGallery=function(t,a,n){if("undefined"==typeof e(this).data("nanoGallery"))return this.each(function(){new e.nanoGallery(this,t)});switch(t){case"reload":return e(this).data("nanoGallery").nG.ReloadAlbum(),e(this);case"refreshSize":return e(this).data("nanoGallery").nG.RefreshSize(),e(this);case"getSelectedItems":return e(this).data("nanoGallery").nG.GetSelectedItems();case"selectItems":e(this).data("nanoGallery").nG.SetSelectedItems(a);break;case"unselectItems":e(this).data("nanoGallery").nG.SetUnselectedItems(a);break;case"setSelectMode":(a===!0||a===!1||"image"===a||"album"===a)&&e(this).data("nanoGallery").nG.SetSelectMode(a);break;case"getSelectMode":return e(this).data("nanoGallery").nG.GetSelectMode();case"getItem":return e(this).data("nanoGallery").nG.GetItem(a);case"getItems":return e(this).data("nanoGallery").nG.GetItems();case"getItemsIndex":return e(this).data("nanoGallery").nG.GetItemsIndex(a);case"option":if("undefined"==typeof n)return e(this).data("nanoGallery").nG.Get(a);e(this).data("nanoGallery").nG.Set(a,n),"demoViewportWidth"==a&&e(window).trigger("resize");break;case"destroy":e(this).data("nanoGallery").nG.$E.base.text(""),e(this).removeData();break;case"closeViewer":e(this).data("nanoGallery").nG.closeViewer();break;case"minimizeToolbar":e(this).data("nanoGallery").nG.minimizeToolbar();break;case"maximizeToolbar":e(this).data("nanoGallery").nG.maximizeToolbar();break;case"displayItem":e(this).data("nanoGallery").nG.displayItem(a);break;case"paginationPreviousPage":e(this).data("nanoGallery").nG.paginationPreviousPage();break;case"paginationNextPage":e(this).data("nanoGallery").nG.paginationNextPage();break;case"paginationGotoPage":e(this).data("nanoGallery").nG.paginationGotoPage(a);break;case"paginationCountPages":return e(this).data("nanoGallery").nG.paginationCountPages();case"getCurrentViewedItem":return e(this).data("nanoGallery").nG.GetCurrentViewedItem();case"getCurrentViewedItemIdx":return e(this).data("nanoGallery").nG.GetCurrentViewedItemIdx();case"moveToNextAlbum":return e(this).data("nanoGallery").nG.moveToNextAlbum();case"moveToPreviousAlbum":return e(this).data("nanoGallery").nG.moveToPreviousAlbum();case"galleryCountImages":return e(this).data("nanoGallery").nG.galleryCountImages()}return e(this)}}),function(e,t){function a(e,t,a){var n=g[t.type]||{};return null==e?a||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:n.max<e?n.max:e)}function n(t){var a=u(),n=a._rgba=[];return t=t.toLowerCase(),h(s,function(e,i){var r,l=i.re.exec(t),o=l&&i.parse(l),s=i.space||"rgba";return o?(r=a[s](o),a[c[s].cache]=r[c[s].cache],n=a._rgba=r._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&e.extend(n,r.transparent),a):r[t]}function i(e,t,a){return a=(a+1)%1,1>6*a?e+(t-e)*a*6:1>2*a?t:2>3*a?e+(t-e)*(2/3-a)*6:e}var r,l="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",o=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,a,n,i){return new e.Color.fn.parse(t,a,n,i)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=u.support={},d=e("<p>")[0],h=e.each;d.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=d.style.backgroundColor.indexOf("rgba")>-1,h(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(i,l,o,s){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(l),l=t);var g=this,m=e.type(i),d=this._rgba=[];return l!==t&&(i=[i,l,o,s],m="array"),"string"===m?this.parse(n(i)||r._default):"array"===m?(h(c.rgba.props,function(e,t){d[t.idx]=a(i[t.idx],t)}),this):"object"===m?(i instanceof u?h(c,function(e,t){i[t.cache]&&(g[t.cache]=i[t.cache].slice())}):h(c,function(t,n){var r=n.cache;h(n.props,function(e,t){if(!g[r]&&n.to){if("alpha"===e||null==i[e])return;g[r]=n.to(g._rgba)}g[r][t.idx]=a(i[e],t,!0)}),g[r]&&e.inArray(null,g[r].slice(0,3))<0&&(g[r][3]=1,n.from&&(g._rgba=n.from(g[r])))}),this):void 0},is:function(e){var t=u(e),a=!0,n=this;return h(c,function(e,i){var r,l=t[i.cache];return l&&(r=n[i.cache]||i.to&&i.to(n._rgba)||[],h(i.props,function(e,t){return null!=l[t.idx]?a=l[t.idx]===r[t.idx]:void 0})),a}),a},_space:function(){var e=[],t=this;return h(c,function(a,n){t[n.cache]&&e.push(a)}),e.pop()},transition:function(e,t){var n=u(e),i=n._space(),r=c[i],l=0===this.alpha()?u("transparent"):this,o=l[r.cache]||r.to(l._rgba),s=o.slice();return n=n[r.cache],h(r.props,function(e,i){var r=i.idx,l=o[r],u=n[r],c=g[i.type]||{};null!==u&&(null===l?s[r]=u:(c.mod&&(u-l>c.mod/2?l+=c.mod:l-u>c.mod/2&&(l-=c.mod)),s[r]=a((u-l)*t+l,i)))}),this[i](s)},blend:function(t){if(1===this._rgba[3])return this;var a=this._rgba.slice(),n=a.pop(),i=u(t)._rgba;return u(e.map(a,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var t="rgba(",a=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===a[3]&&(a.pop(),t="rgb("),t+a.join()+")"},toHslaString:function(){var t="hsla(",a=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===a[3]&&(a.pop(),t="hsl("),t+a.join()+")"},toHexString:function(t){var a=this._rgba.slice(),n=a.pop();return t&&a.push(~~(255*n)),"#"+e.map(a,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,a,n=e[0]/255,i=e[1]/255,r=e[2]/255,l=e[3],o=Math.max(n,i,r),s=Math.min(n,i,r),u=o-s,c=o+s,g=.5*c;return t=s===o?0:n===o?60*(i-r)/u+360:i===o?60*(r-n)/u+120:60*(n-i)/u+240,a=0===u?0:.5>=g?u/c:u/(2-c),[Math.round(t)%360,a,g,null==l?1:l]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,a=e[1],n=e[2],r=e[3],l=.5>=n?n*(1+a):n+a-n*a,o=2*n-l;return[Math.round(255*i(o,l,t+1/3)),Math.round(255*i(o,l,t)),Math.round(255*i(o,l,t-1/3)),r]},h(c,function(n,i){var r=i.props,l=i.cache,s=i.to,c=i.from;u.fn[n]=function(n){if(s&&!this[l]&&(this[l]=s(this._rgba)),n===t)return this[l].slice();var i,o=e.type(n),g="array"===o||"object"===o?n:arguments,m=this[l].slice();return h(r,function(e,t){var n=g["object"===o?e:t.idx];null==n&&(n=m[t.idx]),m[t.idx]=a(n,t)}),c?(i=u(c(m)),i[l]=m,i):u(m)},h(r,function(t,a){u.fn[t]||(u.fn[t]=function(i){var r,l=e.type(i),s="alpha"===t?this._hsla?"hsla":"rgba":n,u=this[s](),c=u[a.idx];return"undefined"===l?c:("function"===l&&(i=i.call(this,c),l=e.type(i)),null==i&&a.empty?this:("string"===l&&(r=o.exec(i),r&&(i=c+parseFloat(r[2])*("+"===r[1]?1:-1))),u[a.idx]=i,this[s](u)))})})}),u.hook=function(t){var a=t.split(" ");h(a,function(t,a){e.cssHooks[a]={set:function(t,i){var r,l,o="";if("transparent"!==i&&("string"!==e.type(i)||(r=n(i)))){if(i=u(r||i),!m.rgba&&1!==i._rgba[3]){for(l="backgroundColor"===a?t.parentNode:t;(""===o||"transparent"===o)&&l&&l.style;)try{o=e.css(l,"backgroundColor"),l=l.parentNode}catch(s){}i=i.blend(o&&"transparent"!==o?o:"_default")}i=i.toRgbaString()}try{t.style[a]=i}catch(s){}}},e.fx.step[a]=function(t){t.colorInit||(t.start=u(t.elem,a),t.end=u(t.end),t.colorInit=!0),e.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(l),e.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(a,n){t["border"+n+"Color"]=e}),t}},r=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function e(){}function t(e,t){for(var a=e.length;a--;)if(e[a].listener===t)return a;return-1}function a(e){return function(){return this[e].apply(this,arguments)}}var n=e.prototype,i=this,r=i.ngEventEmitter;n.getListeners=function(e){var t,a,n=this._getEvents();if("object"==typeof e){t={};for(a in n)n.hasOwnProperty(a)&&e.test(a)&&(t[a]=n[a])}else t=n[e]||(n[e]=[]);return t},n.flattenListeners=function(e){var t,a=[];for(t=0;t<e.length;t+=1)a.push(e[t].listener);return a},n.getListenersAsObject=function(e){var t,a=this.getListeners(e);return a instanceof Array&&(t={},t[e]=a),t||a},n.addListener=function(e,a){var n,i=this.getListenersAsObject(e),r="object"==typeof a;for(n in i)i.hasOwnProperty(n)&&-1===t(i[n],a)&&i[n].push(r?a:{listener:a,once:!1});return this},n.on=a("addListener"),n.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},n.once=a("addOnceListener"),n.defineEvent=function(e){return this.getListeners(e),this},n.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},n.removeListener=function(e,a){var n,i,r=this.getListenersAsObject(e);for(i in r)r.hasOwnProperty(i)&&(n=t(r[i],a),-1!==n&&r[i].splice(n,1));return this},n.off=a("removeListener"),n.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},n.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},n.manipulateListeners=function(e,t,a){var n,i,r=e?this.removeListener:this.addListener,l=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=a.length;n--;)r.call(this,t,a[n]);else for(n in t)t.hasOwnProperty(n)&&(i=t[n])&&("function"==typeof i?r.call(this,n,i):l.call(this,n,i));return this},n.removeEvent=function(e){var t,a=typeof e,n=this._getEvents();if("string"===a)delete n[e];else if("object"===a)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},n.removeAllListeners=a("removeEvent"),n.emitEvent=function(e,t){var a,n,i,r,l=this.getListenersAsObject(e);for(i in l)if(l.hasOwnProperty(i))for(n=l[i].length;n--;)a=l[i][n],a.once===!0&&this.removeListener(e,a.listener),r=a.listener.apply(this,t||[]),r===this._getOnceReturnValue()&&this.removeListener(e,a.listener);return this},n.trigger=a("emitEvent"),n.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},n.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.ngEventEmitter=r,e},"function"==typeof define&&define.amd?define("ngEventEmitter/ngEventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.ngEventEmitter=e}.call(this),function(e){function t(t){var a=e.event;return a.target=a.target||a.srcElement||t,a}var a=document.documentElement,n=function(){};a.addEventListener?n=function(e,t,a){e.addEventListener(t,a,!1)}:a.attachEvent&&(n=function(e,a,n){e[a+n]=n.handleEvent?function(){var a=t(e);n.handleEvent.call(n,a)}:function(){var a=t(e);n.call(e,a)},e.attachEvent("on"+a,e[a+n])});var i=function(){};a.removeEventListener?i=function(e,t,a){e.removeEventListener(t,a,!1)}:a.detachEvent&&(i=function(e,t,a){e.detachEvent("on"+t,e[t+a]);try{delete e[t+a]}catch(n){e[t+a]=void 0}});var r={bind:n,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e,t){"function"==typeof define&&define.amd?define(["ngEventEmitter/ngEventEmitter","eventie/eventie"],function(a,n){return t(e,a,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.ngimagesLoaded=t(e,e.ngEventEmitter,e.eventie)}(window,function(e,t,a){function n(e,t){for(var a in t)e[a]=t[a];return e}function i(e){return"[object Array]"===m.call(e)}function r(e){var t=[];if(i(e))t=e;else if("number"==typeof e.length)for(var a=0,n=e.length;n>a;a++)t.push(e[a]);else t.push(e);return t}function l(e,t,a){if(!(this instanceof l))return new l(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?a=t:n(this.options,t),a&&this.on("always",a),this.getImages(),u&&(this.jqDeferred=new u.Deferred);var i=this;setTimeout(function(){i.check()})}function o(e){this.img=e}function s(e){this.src=e,d[e]=this}var u=e.jQuery,c=e.console,g="undefined"!=typeof c,m=Object.prototype.toString;l.prototype=new t,l.prototype.options={},l.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var a=this.elements[e];"IMG"===a.nodeName&&this.addImage(a);var n=a.nodeType;if(n&&(1===n||9===n||11===n))for(var i=a.querySelectorAll("img"),r=0,l=i.length;l>r;r++){var o=i[r];this.addImage(o)}}},l.prototype.addImage=function(e){var t=new o(e);this.images.push(t)},l.prototype.check=function(){function e(e,i){return t.options.debug&&g&&c.log("confirm",e,i),t.progress(e),a++,a===n&&t.complete(),!0}var t=this,a=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var i=0;n>i;i++){var r=this.images[i];r.on("confirm",e),r.check()}},l.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},l.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var a=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[a](t)}})},u&&(u.fn.ngimagesLoaded=function(e,t){var a=new l(this,e,t);return a.jqDeferred.promise(u(this))}),o.prototype=new t,o.prototype.check=function(){var e=d[this.img.src]||new s(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,a){return t.confirm(e.isLoaded,a),!0}),e.check()},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var d={};return s.prototype=new t,s.prototype.check=function(){if(!this.isChecked){var e=new Image;a.bind(e,"load",this),a.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},s.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},s.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},s.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},s.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},s.prototype.unbindProxyEvents=function(e){a.unbind(e.target,"load",this),a.unbind(e.target,"error",this)},l}),function(){"use strict";var e="undefined"!=typeof module&&module.exports,t="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var e,t,a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,i=a.length,r={};i>n;n++)if(e=a[n],e&&e[1]in document){for(n=0,t=e.length;t>n;n++)r[a[0][n]]=e[n];return r}return!1}(),n={request:function(e){var n=a.requestFullscreen;e=e||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?e[n]():e[n](t&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[a.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(){},onerror:function(){},raw:a};return a?(Object.defineProperties(n,{isFullscreen:{get:function(){return!!document[a.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[a.fullscreenEnabled]}}}),document.addEventListener(a.fullscreenchange,function(e){n.onchange.call(n,e)}),document.addEventListener(a.fullscreenerror,function(e){n.onerror.call(n,e)}),void(e?module.exports=n:window.ngscreenfull=n)):void(e?module.exports=!1:window.ngscreenfull=!1)}();